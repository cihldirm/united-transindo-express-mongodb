<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- <meta http-equiv="X-UA-Compatible" content="ie=edge" /> -->
    <!-- Always force latest IE rendering engine (even in intranet) & Chrome Frame -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="initial-scale=1.0, target-densitydpi=device-dpi" /><!-- this is for mobile (Android) Chrome -->
    <meta name="viewport" content="initial-scale=1.0, width=device-height"><!--  mobile Safari, FireFox, Opera Mobile  -->
    <script type="text/javascript" src="/vendors/jSignature/libs/modernizr.js"></script>
    <title>United Transindo Admin Dashboard</title>
    <link rel="icon" type="image/x-icon" href="/images/icons/Logo United Transindo.ico">
    <!-- core:css -->
    <link rel="stylesheet" href="/vendors/core/core.css" />
    <!-- endinject -->
    <!-- plugin css for this page -->
    <!-- Bootstrap CSS -->
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <!-- Bootstrap Msg CSS -->
    <!-- <link rel="stylesheet" href="/css/bootstrap-msg.css"> -->
    <!-- Font Awesome 4 -->
    <link rel="stylesheet" href="/vendors/font-awesome/css/font-awesome.min.css">
    <link rel="stylesheet" href="/vendors/select2/select2.min.css">
    <link rel="stylesheet" href="/vendors/bootstrap-datepicker/bootstrap-datepicker.min.css">
    <link
      rel="stylesheet"
      href="/vendors/sweetalert2/sweetalert2.min.css"
    />
    <!-- end plugin css for this page -->
    <!-- inject:css -->
    <link
      rel="stylesheet"
      href="/fonts/feather-font/css/iconfont.css"
    />
    <link
      rel="stylesheet"
      href="/vendors/flag-icon-css/css/flag-icon.min.css"
    />
    <!-- endinject -->
    <!-- Layout styles -->
    <link rel="stylesheet" href="/css/demo_1/style.css" />
    
    <!--[if lt IE 9]>
    <script type="text/javascript" src="/vendors/jSignature/libs/flashcanvas.js"></script>
    <![endif]-->
    <style>
      #choose-jo-city {
        background-color: #fff;
        height: 450px;
        border: 1px solid;
        display: flex;
        justify-content: center;
        align-items: center;
        flex-direction: column;
        gap: 2rem;

        & #container {
          display: grid;
          gap: 0.75rem;

          & .city {
            background-color: #fff;
            width: 100px;
            height: 50px;
          }
        }
      }
      .page-content {
        padding-bottom: 0 !important;
        display: grid;
      }
      .datepicker table tr td.disabled, .datepicker table tr td.disabled:hover {
        color: #999 !important;
      }
      .select2-container--default .select2-selection--single .select2-selection__clear {
        margin-left: 30px;
      }
      .select2-selection.select2-selection--single {
        display: inline-grid;
        padding-right: 40px !important;
      }
      .spinner-border {
        position: absolute;
        top: calc(50% + 30px);
        left: calc(50% + 120px);
      }
      #jo-template {
        background-color: #fff;
        margin: auto;
        width: 770px;
      }
      
      #jo-template > #header {
        display: flex;
        justify-content: center;
        align-items: center;
        /* font-size: 0.75rem; */
        font-size: 0.625rem;
        gap: 2rem;
        margin-bottom: 0.5rem;

        & div:nth-child(1) {
          white-space: nowrap;
        }
        & div:nth-child(3) {
          text-align: right;
          white-space: nowrap;
        }
      }
      #jo-template #content {

      }
      #jo-template #content > #header {
        display: flex;
        /* justify-content: space-around; */
        justify-content: space-between;
        align-items: center;
        border: 1px solid;
        border-bottom: unset;
        /* padding: 0.75rem 2rem; */
        padding: 1rem 2rem;
        /* & h5 {
            font-weight: bold;
            line-height: 0;
        } */
        & h6 {
          font-weight: 800;
        }
      }
      #jo-template #content > #container {
        border: 1px solid;
        padding-left: 2rem;
        padding-right: 2rem;
        & h3 {
            padding: 2rem;
            text-decoration: underline;
            text-align: center;
            font-size: 26px;
            font-weight: 800;
        }
        /* & label {
          height: 2rem;
        } */
        /* & select:enabled + span.select2.select2-container span.select2-selection.select2-selection--single {
          border: 1px solid;
        } */
        & input[type="radio"]:disabled {
          cursor: unset;
        }
        & select:disabled + span.select2.select2-container span.select2-selection.select2-selection--single,
          input[type="text"]:disabled, input[type="radio"]:disabled + i.input-frame::before {
            border: 1px solid darkgrey !important;
            background-color: lightgrey !important;

          /* &:focus {
            background-color: lightgrey;
          } */
        }
        /* & .form-group.has-danger .select2-container .select2-selection--single { */
        & .form-group {
          & span.select2.select2-container {
            /* margin-left: 0.75rem; */

            & span.select2-selection.select2-selection--single {
              /* display: inline-grid;
              padding-right: 40px !important;
              border: 1px solid;
              border-radius: 4px; */

              & span.select2-selection__arrow {
                width: 100%;
                height: 100%;
                z-index: auto;

                & b {
                  left: unset;
                  right: 14px;
                  margin-top: -6px;
                }
              }

              & .select2-selection__clear {
                margin-left: 30px;
                z-index: 100;
              }
            }
          }

          &.has-danger .select2-container .select2-selection--single {
            border-color: #ff3366 !important;
          }
        }
        & span.select2.select2-container span.select2-selection.select2-selection--single {
          display: inline-grid;
          padding-right: 40px !important;
          border: 1px solid;
          border-radius: 4px;
        }
        & #data-customer {
          display: grid;

          & .form-group.form-row {
            height: 2.1875rem;
            margin: 0;
            margin-bottom: 0.25rem;
            display: inline-table;
            /* display: flex;
            align-items: center;
            flex-wrap: nowrap; */
          }
          & label {
            margin: 0;
            width: 120px;
            line-height: 1;
            vertical-align: unset;

            &.error {
              width: unset;
              margin-left: 0.75rem;
            }
          }
          .my_select2_optgroup_selected {
              background-color: #ddd;
          }
          .my_select2_optgroup_hovered {
              color: #FFF;
              background-color: #5897fb !important;
              cursor: pointer;
          }
          strong.select2-results__group {
              padding: 0 !important;
          }
          .my_select2_optgroup {
              display: block;
              padding: 6px;
          }
          /* & span.select2.select2-container {
            margin-left: 0.75rem;

            & span.select2-selection.select2-selection--single {
              display: inline-grid;
              padding-right: 40px !important;
              border: 1px solid;

              & span.select2-container--default .select2-selection--single .select2-selection__clear {
                margin-left: 30px;
              }
            }
          } */
        }
        & #data-kendaraan {
          & .form-group.form-row {
            height: 2.1875rem;
            margin: 0;
            margin-bottom: 0.25rem;
            /* display: inline-table; */
            display: flex;
            align-items: center;
            flex-wrap: nowrap;
          }
          & .quantity {
            margin-left: 0.75rem;
            display: flex;
            /* border: 2px solid #3498db; */
            border: 1px solid darkgrey;
            border-radius: 4px;
            overflow: hidden;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);

            & button {
              /* background-color: #3498db; */
              color: #fff;
              border: none;
              cursor: pointer;
              /* font-size: 20px;
              width: 30px; */
              height: auto;
              text-align: center;
              transition: background-color 0.2s;
            }
            & .btn-danger:disabled {
              background-color: darkgrey;
              cursor: unset;
            }
          }

          & .input-box {
            /* width: 40px; */
            text-align: center;
            border: none;
            /* padding: 8px 10px;
            font-size: 16px; */
            outline: none;
          }

          /* Hide the number input spin buttons */
          & .input-box::-webkit-inner-spin-button,
            .input-box::-webkit-outer-spin-button {
            -webkit-appearance: none;
            margin: 0;
          }

          & .input-box[type="number"] {
            -moz-appearance: textfield;
          }
          & .table th, .table td {
            border: 1px solid darkslategrey !important;
          }
          & .table tbody th {
            text-align: center;
          }
          & .table tbody td.has-danger .select2-container .select2-selection--single {
            border-color: #ff3366 !important;
          }
          /* & label[for="form-label"] { */
          & label.form-label {
            margin: 0;
            width: 60px;
            line-height: 1;
          }
          & label.form-check-label {
            display: flex;
            margin: 0;
            gap: 0.5rem;
          }
          & label.error {
            margin: 0;
            margin-left: 0.75rem;
          }
          & .form-check-input {
            position: relative;
          }
          & i.input-frame {
            position: absolute;
          }
          & .table input.form-control[type="text"] {
            width: max-content;
            margin: 0;
            border-color: rgb(118, 118, 118);
          }
          & span.select2.select2-container {
            /* margin-left: 0.75rem; */
            width: max-content;
          }
        }
        & #pembayaran {
          & .form-group.form-row {
            height: 2.1875rem;
            margin: 0;
            margin-bottom: 0.25rem;
            /* display: inline-table; */
            display: flex;
            align-items: center;
            flex-wrap: nowrap;
          }
          & label {
            margin: 0;
            width: 85px;
            line-height: 1;
            /* vertical-align: unset; */
          }
          & input.form-control {
            /* margin: 0 0.625rem; */
            margin-left: 0.75rem;
            border-color: rgb(118,118,118);
          }
        }
        & #detail-pembayaran-1 {
          & .form-group.form-row {
            height: 2.1875rem;
            margin: 0;
            margin-bottom: 0.25rem;
            /* display: inline-table; */
            display: flex;
            align-items: center;
            flex-wrap: nowrap;
          }
          & span.form-label {
            margin: 0;
            min-width: 80px;
            width: 80px;
            line-height: 1;
            /* vertical-align: unset; */
            /* min-width: 120px;
            width: 120px; */
            /* min-width: 150px;
            width: 150px; */
          }
          & input.form-control {
            /* margin: 0 0.625rem; */
            /* margin-left: 0.75rem; */
            margin-left: 0.625rem;
            border-color: rgb(118,118,118);
          }
          & label.form-check-label {
            display: flex;
            margin: 0;
            gap: 0.5rem;
          }
          & input[name="tagihan"], input[name="opsi_tagihan_top"] {
            position: relative;
          }
          & i.input-frame {
            position: absolute;
          }
        }
        & #detail-pembayaran-2 {
          & .form-group.form-row {
            height: 2.1875rem;
            margin: 0;
            margin-bottom: 0.25rem;
            /* display: inline-table; */
            display: flex;
            align-items: center;
            flex-wrap: nowrap;
          }
          & span.form-label {
            margin: 0;
            min-width: 150px;
            width: 150px;
            line-height: 1;
            /* vertical-align: unset; */
          }
          & input.form-control {
            /* margin: 0 0.625rem; */
            /* margin-left: 0.75rem; */
            margin-left: 0.625rem;
            border-color: rgb(118,118,118);
          }
          & label.form-check-label {
            display: flex;
            margin: 0;
            gap: 0.5rem;
          }
          & i.input-frame {
            position: absolute;
          }
          /* & label.biaya_koord.form-check-label {
            display: flex;
            margin: 0;
            gap: 0.5rem;

            & i.input-frame {
              position: absolute;
            }
          } */
          /* & input[name="biaya_koord"] { */
          & input[name="asuransi"], input[name="biaya_koord"] {
            position: relative;
          }
        }
        & .form-check .form-check-label {
          display: inline;
        }
        & .hr_tgl_ambil.input-group.date.datepicker {
          width: 250px;
          margin-left: 0.75rem;
          /* width: fit-content; */
          display: inline-flex;
          border: 1px solid;
          border-radius: 4px;

          & span.input-group-addon {
            border-left: 1px solid;
          }
        }
        & #qty {
          padding: 0;
          width: 1.2ch;
          margin: 0 0.5rem;
        }
        /* & #lainnya {
            position: relative;
            margin: 0 0.5rem;
        } */
        & #nominal {
          border-color: rgb(118,118,118);
        }
        input::placeholder {
          color: #999;
          opacity: 1; /* Firefox */
        }
        input::-ms-input-placeholder { /* Edge 12 -18 */
          color: #999;
        }
        /* & .form-control-danger {
          border-color: #ff3366 !important;
        } */
      }
      #jo-template #content > #footer {
        border: 1px solid;
        border-top: unset;
        display: flex;
        text-align: center;

        /* & div.col-3 {
          height: 100px;
        } */

        /*This is the div within which the signature canvas is fitted*/
        & #signature-made-by,
          #signature-approved-by,
          #signature-received-by-1,
          #signature-received-by-2 {
            height: 100px;
            /* border: 1px solid; */


            & div img {
              display: none !important;
            }
            
            & canvas.jSignature {
            }

            & span {
              position: absolute;
              bottom: 2px;
              right: 2px;
              font-size: 11px;
              line-height: 1;
            }
        }
      }
      /* .alert-div > div.alert.alert-danger{
        font-weight: bold;
        text-align: center;
        width: fit-content;
        margin: auto;
        transition: 1s;
      }
      div.alert{
        display: flex;
        font-weight: bold;
        width: fit-content;
        margin: auto;
        transition: 1s;
        label{
          margin: 0;
        }
        button.close{
          padding: 0;
          top: unset;
          right: 1.25rem;
        }
      }
      .alert.show{
        animation: show_slide 1.2s ease forwards;
      }

      .alert.hide{
        animation: hide_slide 1.2s ease forwards;
      }

      @keyframes show_slide{
        0%{
          transform: translateX(100%);
        }
        45%{
          transform: translateX(-5%);
          opacity: 0.4;
        }
        75%{
          transform: translateX(2%);
          opacity: 0.8;
        }
        100%{
          transform: translateX(-2%);
          opacity: 1;
        }
      }

      @keyframes hide_slide{
        0%{
          opacity: 1;
          transform: translateX(0%);
        }
        100%{
          opacity: 0;
          transform: translateX(100%);
        }
      } */
    </style>
    <!-- End layout styles -->
    <link
      rel="shortcut icon"
      href="/images/icons/Logo United Transindo.png"
    />
  </head>
  <body>
    <div class="main-wrapper">
      <!-- partial:partials/_sidebar.html -->
      <%- include('./sidebar.ejs') %>
      <!-- partial -->

      <div class="page-wrapper">
        <!-- partial:partials/_navbar.html -->
        <%- include('./navbar.ejs') %>
        <!-- partial -->

        <div class="page-content">
          <div class="alert-div" style="display: none;">
            <!-- <div class="alert alert-icon-danger" role="alert">
              <i data-feather="alert-triangle"></i>
              A simple danger alert—check it out!
            </div> -->
          </div>
          <!-- <div class="alert alert-icon-danger" role="alert">
            <i data-feather="alert-circle"></i>
            A simple danger alert—check it out!
          </div> -->

          <!-- <div class="alert alert-icon-danger alert-danger alert-dismissible fade show" role="alert" style="display: none;">
            <i data-feather="alert-circle"></i>
            <label></label>
            <button type="button" class="close" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div> -->
        
          <nav class="page-breadcrumb">
            <ol class="breadcrumb">
              <li class="breadcrumb-item"><a href="#">Marketing</a></li>
              <li class="breadcrumb-item active" aria-current="page">
                Input Job Order
              </li>
            </ol>
          </nav>

          <!-- <div class="row">
            <div class="col-md-12">
              <div class="card">
                <div class="card-body">
                  <div class="container-fluid d-flex justify-content-between">
                    <div class="col-lg-3 pl-0">
                      <a href="#" class="noble-ui-logo d-block mt-3"
                        >Noble<span>UI</span></a
                      >
                      <p class="mt-1 mb-1"><b>NobleUI Themes</b></p>
                      <p>
                        108,<br />
                        Great Russell St,<br />London, WC1B 3NA.
                      </p>
                      <h5 class="mt-5 mb-2 text-muted">Invoice to :</h5>
                      <p>
                        Joseph E Carr,<br />
                        102, 102 Crown Street,<br />
                        London, W3 3PR.
                      </p>
                    </div>
                    <div class="col-lg-3 pr-0">
                      <h4
                        class="font-weight-medium text-uppercase text-right mt-4 mb-2"
                      >
                        invoice
                      </h4>
                      <h6 class="text-right mb-5 pb-4"># INV-002308</h6>
                      <p class="text-right mb-1">Balance Due</p>
                      <h4 class="text-right font-weight-normal">$ 72,420.00</h4>
                      <h6 class="mb-0 mt-3 text-right font-weight-normal mb-2">
                        <span class="text-muted">Invoice Date :</span> 25rd Jan
                        2020
                      </h6>
                      <h6 class="text-right font-weight-normal">
                        <span class="text-muted">Due Date :</span> 12th Jul 2020
                      </h6>
                    </div>
                  </div>
                  <div
                    class="container-fluid mt-5 d-flex justify-content-center w-100"
                  >
                    <div class="table-responsive w-100">
                      <table class="table table-bordered">
                        <thead>
                          <tr>
                            <th>#</th>
                            <th>Description</th>
                            <th class="text-right">Quantity</th>
                            <th class="text-right">Unit cost</th>
                            <th class="text-right">Total</th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr class="text-right">
                            <td class="text-left">1</td>
                            <td class="text-left">PSD to html conversion</td>
                            <td>02</td>
                            <td>$55</td>
                            <td>$110</td>
                          </tr>
                          <tr class="text-right">
                            <td class="text-left">2</td>
                            <td class="text-left">Package design</td>
                            <td>08</td>
                            <td>$34</td>
                            <td>$272</td>
                          </tr>
                          <tr class="text-right">
                            <td class="text-left">3</td>
                            <td class="text-left">Html template development</td>
                            <td>03</td>
                            <td>$500</td>
                            <td>$1500</td>
                          </tr>
                          <tr class="text-right">
                            <td class="text-left">4</td>
                            <td class="text-left">Redesign</td>
                            <td>01</td>
                            <td>$30</td>
                            <td>$30</td>
                          </tr>
                        </tbody>
                      </table>
                    </div>
                  </div>
                  <div class="container-fluid mt-5 w-100">
                    <div class="row">
                      <div class="col-md-6 ml-auto">
                        <div class="table-responsive">
                          <table class="table">
                            <tbody>
                              <tr>
                                <td>Sub Total</td>
                                <td class="text-right">$ 14,900.00</td>
                              </tr>
                              <tr>
                                <td>TAX (12%)</td>
                                <td class="text-right">$ 1,788.00</td>
                              </tr>
                              <tr>
                                <td class="text-bold-800">Total</td>
                                <td class="text-bold-800 text-right">
                                  $ 16,688.00
                                </td>
                              </tr>
                              <tr>
                                <td>Payment Made</td>
                                <td class="text-danger text-right">
                                  (-) $ 4,688.00
                                </td>
                              </tr>
                              <tr class="bg-light">
                                <td class="text-bold-800">Balance Due</td>
                                <td class="text-bold-800 text-right">
                                  $ 12,000.00
                                </td>
                              </tr>
                            </tbody>
                          </table>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="container-fluid w-100">
                    <a href="#" class="btn btn-primary float-right mt-4 ml-2"
                      ><i data-feather="send" class="mr-3 icon-md"></i>Send
                      Invoice</a
                    >
                    <a href="#" class="btn btn-outline-primary float-right mt-4"
                      ><i data-feather="printer" class="mr-2 icon-md"></i
                      >Print</a
                    >
                  </div>
                </div>
              </div>
            </div>
          </div> -->
          <div id="choose-jo-city">
            <h4>Pilih Kota :</h4>
            <div id="container">
              <button class="city" id="Sidoarjo">Sidoarjo</button>
              <button class="city" id="Jakarta">Jakarta</button>
              <button class="city" id="Makassar">Makassar</button>
            </div>
          </div>
          <div class="spinner-border" role="status" style="display: none;">
            <span class="sr-only">Loading...</span>
          </div>
          <div id="jo-template" style="display: none;">
            <div id="header">
            <!-- <div class="col-md-12 grid-margin stretch-card" style="display: block;"> -->
              <!-- <div class="spinner-border" role="status"> -->
              <!-- <div class="spinner-border" role="status" style="display: none;">
                <span class="sr-only">Loading...</span>
              </div> -->
              <div class="">
                Jl. Raya Bulevar Barat Komp. Ruko Plaza </br>
                Pasifik Blok A 3 No. 58 Jakarta </br>
                Telp. (021) 4535007-8, Fax. (021) 45865813
              </div>
              <div class="">
                <!-- <img width="400" height="70" src="/images/Logo Header PT UT.png" alt="logo-header-job-order" /> -->
                <img width="270" height="50" src="/images/Logo Header PT UT.jpeg" alt="logo-header-job-order" />
              </div>
              <div class="">
                Komplek Pergudangan Sinar Buduran II Blok A No. 09 </br>
                Jl. Lingkar Timur Prasung, Buduran - Sidoarjo </br>
                Telp. (031) 99708669, Fax. (031) 9970879
              </div>


            </div>
            <form method="post" action="/input-job-order" id="jo-form" name="jo-form">
                <div id="content">
                    <div id="header">
                        <div class="">
                            <!-- <h5>JAKARTA,</h5> -->
                            <h6></h6>
                        </div>
                        <div class="">
                            <span>No. JO :</span>
                        </div>
                    </div>
                    <div id="container">
                        <h3>JOB ORDER</h3>
                        <span style="font-weight: bold;"> <span>1.</span> &emsp; &emsp; <span style="text-decoration: underline;">Data Customer</span> </span>
                        <br/>
                        <br/>
                        <fieldset>
                        <div id="data-customer">
                          <div class="form-group form-row">
                            <label for="nama_pengirim">Nama Pengirim</label> <span style="margin-right: .75rem;">:</span>
                            <select name="nama_pengirim" id="nama_pengirim" class="nama_pengirim form-control"></select>
                            <!-- <label for="nama_pengirim" id="nama_pengirim-error" class="error text-danger"></label> -->
                          </div>
                          <div class="form-group form-row">
                            <label for="alamat_pengirim">Alamat Pengirim</label> <span style="margin-right: .75rem;">:</span>
                            <select name="alamat_pengirim" id="alamat_pengirim" class="alamat_pengirim form-control" disabled></select>
                          </div>
                          <div class="form-group form-row">
                            <label for="kontak_pengirim">Telp.</label> <span style="margin-right: .75rem;">:</span>
                            <select name="kontak_pengirim" id="kontak_pengirim" class="kontak_pengirim form-control" disabled></select>
                          </div>
                          <!-- <br/> -->
                          <br/>
                          <div class="form-group form-row">
                            <label for="nama_penerima">Nama Penerima</label> <span style="margin-right: .75rem;">:</span>
                            <select name="nama_penerima" id="nama_penerima" class="form-control"></select>
                          </div>
                          <!-- <label for="">Nama Penerima : 
                            <select name="nama_penerima" class="nama_penerima form-control"></select>
                          </label>
                          <br/> -->
                          <div class="form-group form-row">
                            <label for="alamat_penerima">Alamat Penerima</label> <span style="margin-right: .75rem;">:</span>
                            <select name="alamat_penerima" id="alamat_penerima" class="alamat_penerima form-control" disabled></select>
                          </div>
                          <!-- <label for="">Alamat Penerima : 
                            <select name="alamat_penerima" class="alamat_penerima form-control"></select>
                          </label>
                          <br/> -->
                          <div class="form-group form-row">
                            <label for="kontak_penerima">Telp.</label> <span style="margin-right: .75rem;">:</span>
                            <select name="kontak_penerima" id="kontak_penerima" class="kontak_penerima form-control" disabled></select>
                          </div>
                          <!-- <label for="">Telp. : 
                            <select name="kontak_penerima" class="kontak_penerima form-control"></select>
                          </label> -->
                          <!-- <select id="my-select" name="my-select" class="my-select form-control"></select> -->
                          <!-- <select id="my-select" class="example"  style="width: 300px">
                            <option value="JAN">January</option>
                            <option value="FEB">February</option>
                            <option value="MAR">March</option>
                            <option value="APR">April</option>
                            <option value="MAY">May</option>
                            <option value="JUN">June</option>
                            <option value="JUL">July</option>
                            <option value="AUG">August</option>
                            <option value="SEP">September</option>
                            <option value="OCT">October</option>
                            <option value="NOV">November</option>
                            <option value="DEC">December</option>
                          </select> -->
                        </div>
                        <!-- <br/> -->
                        <br/>
                        <span style="font-weight: bold;"> <span>2.</span> &emsp; &emsp; <span style="text-decoration: underline;">Hari / Tanggal Pengambilan</span> : <div class="hr_tgl_ambil input-group date datepicker">
                          <input type="text" name="hr_tgl_ambil" class="form-control"><span class="input-group-addon"><i data-feather="calendar"></i></span>
                        </div> </span>
                        <br/>
                        <br/>
                        <span style="font-weight: bold;"> <span>3.</span> &emsp; &emsp; <span style="text-decoration: underline;">Data Kendaraan</span> </span>
                        <br/>
                        <br/>
                        <div id="data-kendaraan">
                          <div class="form-group form-row">
                            <label for="qty" class="form-label">Jumlah</label> :
                            <!-- <input type="text" name="qty" class="form-control" id="qty" value="1" />Unit -->
                            <div class="quantity">
                              <button type="button" class="btn-danger minus" aria-label="Decrease" disabled>&minus;</button>
                              <input type="number" id="qty" name="qty" class="input-box" value="1" min="1">
                              <button type="button" class="btn-success plus" aria-label="Increase">&plus;</button>
                            </div>
                            <span style="margin-left: 0.75rem;">Unit</span>
                          </div>
                          <br/>
                          <div class="table-responsive">
                            <table class="table table-bordered">
                              <thead>
                                <tr>
                                  <th>No</th>
                                  <th>Merk</th>
                                  <th>Type</th>
                                  <th>Nopol / Noka</th>
                                  <th>Warna</th>
                                  <th>Status</th>
                                  <th>Kondisi Surat</th>
                                </tr>
                              </thead>
                              <tbody>
                                <tr>
                                  <th>1</th>
                                  <td><select name="merk[0]" id="merk-1" class="merk form-control form-group"></select></td>
                                  <td><select name="tipe[0]" id="tipe-1" class="tipe form-control form-group" disabled></select></td>
                                  <td><input type="text" name="nopol_noka[0]" id="nopol_noka-1" class="form-control form-group" style="min-width: max-content;" placeholder=". . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . ." disabled /></td>
                                  <td><select name="warna[0]" id="warna-1" class="warna form-control form-group" disabled></select></td>
                                  <td>
                                    <div class="form-group" style="display: flex; margin: 0;">
                                      <div class="form-check form-check-inline" 
                                        style="
                                          margin: 0;
                                          margin-right: 0.75rem;
                                        ">
                                        <label class="form-check-label">
                                          <!-- id="status-1" -->
                                          <input
                                            type="radio"
                                            class="form-check-input"
                                            name="status[0]"
                                            id="status-profit-1"
                                            value="profit"
                                            disabled
                                            required
                                          />
                                          Profit
                                        </label>
                                      </div>
                                      <div class="form-check form-check-inline" 
                                        style="
                                          margin: 0;
                                          margin-left: 0.75rem;
                                        ">
                                        <label class="form-check-label">
                                          <input
                                            type="radio"
                                            class="form-check-input"
                                            name="status[0]"
                                            id="status-second-1"
                                            value="second"
                                            disabled
                                          />
                                          Second
                                        </label>
                                      </div>
                                    </div>
                                    <span class="text-danger" style="display: none;">
                                      <label for="status[0]" class="error" style="display: none;">Mohon Pilih Status Unit</label>
                                    </span>
                                  </td>
                                  <td>
                                    <div class="form-group" style="display: flex; margin: 0;">
                                      <div class="form-check form-check-inline" style="margin: 0; margin-right: 0.75rem;">
                                        <label class="form-check-label">
                                          <!-- id="kondisi-1" -->
                                          <input
                                            type="radio"
                                            class="form-check-input"
                                            name="kondisi[0]"
                                            id="kondisi-ada-1"
                                            value="ada"
                                            disabled
                                          />
                                          Ada
                                        </label>
                                      </div>
                                      <div class="form-check form-check-inline" style="margin: 0; margin-left: 0.75rem; display: flex; align-items: center; min-width: max-content;">
                                        <label class="form-check-label">
                                          <input
                                            type="radio"
                                            class="form-check-input"
                                            name="kondisi[0]"
                                            id="kondisi-lainnya-1"
                                            value="lainnya"
                                            disabled
                                          />
                                          Lainnya
                                        </label>
                                        <input
                                          type="text"
                                          class="form-control"
                                          name="lainnya[0]"
                                          id="lainnya-1"
                                          placeholder=". . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . ."
                                          style="margin-left: 0.625rem;"
                                          disabled
                                          />
                                      </div>
                                    </div>
                                  </td>
                                </tr>
                              </tbody>
                            </table>
                          </div>
                        </div>
                          
                        <!-- <br/> -->
                        <br/>
                        <span style="font-weight: bold;"> <span>4.</span> &emsp; &emsp; <span style="text-decoration: underline;">Pembayaran</span> </span>
                        <br/>
                        <br/>
                        <!-- <label for="">Nominal : <input
                            id="nominal"
                            class="form-control"
                            data-inputmask="'alias': 'currency'"
                          /></label>
                        <br/>
                        <label for="">Moda : <input type="text" name="" id=""></label>
                        <br/>
                        <label for="">Invoice A.N : <input type="text" name="" id=""></label>
                        <br/>
                        <br/>
                        <label for="">1. Transfer By : <input type="text" name="" id=""></label>
                        <br/>
                        <label for="">2. Tunai : <input type="checkbox" name="" id=""> Jakarta <input type="checkbox" name="" id="">Sidoarjo <input type="checkbox" name="" id="">Makassar</label>
                        <br/>
                        <label for="">3. Tagihan : <input type="checkbox" name="" id=""> Jakarta <input type="checkbox" name="" id="">Sidoarjo  &nbsp; TOP : <input type="text" name="" id=""></label> -->

                        <div id="pembayaran">
                          <div class="form-group form-row">
                            <label for="nominal">Nominal</label> :
                            <div class="form-check form-check-inline" style="margin: 0; display: flex; align-items: center;">
                              <input
                                id="nominal"
                                class="form-control"
                                name="nominal"
                                placeholder=". . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . ."
                              />
                            </div>
                          </div>
                          <div class="form-group form-row">
                            <label for="moda">Moda</label> :
                            <div class="form-check form-check-inline" style="margin: 0; display: flex; align-items: center;">
                              <input
                                type="text"
                                class="form-control"
                                name="moda"
                                id="moda"
                                placeholder=". . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . ."
                              />
                            </div>
                          </div>
                          <div class="form-group form-row">
                            <label for="invoice">Invoice a.n.</label> :
                            <div class="form-check form-check-inline" style="margin: 0; display: flex; align-items: center;">
                              <input
                                type="text"
                                class="form-control"
                                name="invoice"
                                id="invoice"
                                placeholder=". . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . ."
                              />
                            </div>
                          </div>
                        </div>


                        <!-- <label for="" style="display: flex; align-items: center;">Nominal : 
                          <div class="form-check form-check-inline" style="margin: 0; display: flex; align-items: center;">
                            <input
                              id="nominal"
                              class="form-control"
                              name="nominal"
                              placeholder=". . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . ."
                              style="margin: 0 0.625rem; border-color: rgb(118,118,118);"
                              />
                            </div>
                          </label> -->
                          <!-- data-inputmask="'alias': 'currency'" -->
                        <!-- <label for="" style="display: flex; align-items: center;">Moda : 
                          <div class="form-check form-check-inline" style="margin: 0; display: flex; align-items: center;">
                            <input
                              type="text"
                              class="form-control"
                              name="moda"
                              id=""
                              placeholder=". . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . ."
                              style="margin: 0 0.625rem; border-color: rgb(118,118,118);"
                            />
                          </div>
                        </label>
                        <label for="" style="display: flex; align-items: center;">Invoice a.n. : 
                          <div class="form-check form-check-inline" style="margin: 0; display: flex; align-items: center;">
                            <input
                              type="text"
                              class="form-control"
                              name="invoice"
                              id=""
                              placeholder=". . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . ."
                              style="margin: 0 0.625rem; border-color: rgb(118,118,118);"
                            />
                          </div>
                        </label> -->
                        <br/>
                        <!-- <span style="font-weight: bold;"> <span>4.</span> &emsp; &emsp; <span style="text-decoration: underline;">Pembayaran</span> </span> -->
                        <div id="detail-pembayaran-1">
                          <div class="form-group form-row">
                            <span style="min-width: 50px; width: 50px;">1.</span>
                            <span class="form-label">Transfer By</span> :
                            <!-- 1.<label for="form-label">&emsp; &emsp;Transfer By</label> : -->
                            <div class="form-check form-check-inline" style="margin: 0; display: flex; align-items: center;">
                              <input
                                type="text"
                                class="form-control"
                                name="transfer_by"
                                id="transfer_by"
                                placeholder=". . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . ."
                              />
                            </div>
                          </div>
                          <div class="form-group form-row">
                            <span style="min-width: 50px; width: 50px;">2.</span>
                            <span class="form-label">Tagihan</span> : 
                            <div class="space" style="margin-right: 20px;"></div>
                            <div class="form-group" style="display: flex; margin: 0; white-space: nowrap; width: 100%; justify-content: space-evenly;">
                              <!-- <div class="form-check form-check-inline" style="margin: 0 0.75rem 0 1.5rem; align-self: center;"> -->
                              <div class="col-3 form-check form-check-inline" 
                                style="
                                  margin: 0;
                                  padding: 0;
                                  align-self: center;
                                  justify-content: center;
                                  display: flex;
                                ">
                                <!-- <label class="form-check-label" style="margin-bottom: 0;"> -->
                                <!-- <label class="form-check-label" style="margin-bottom: 0; display: flex;"> -->
                                <label for="tagihan-jakarta" class="form-check-label" style="width: 5.5rem;">
                                  <input
                                    type="radio"
                                    class="form-check-input"
                                    name="tagihan"
                                    id="tagihan-jakarta"
                                    value="jakarta"
                                  />
                                  Jakarta
                                </label>
                              </div>
                              <!-- <div class="col-4 form-check form-check-inline" style="margin: 0 0.75rem; align-self: center;"> -->
                              <div class="col-3 form-check form-check-inline" 
                                style="
                                  margin: 0;
                                  padding: 0;
                                  align-self: center;
                                  justify-content: center;
                                  display: flex;
                                ">
                                <label for="tagihan-sidoarjo" class="form-check-label" style="width: 5.5rem;">
                                  <input
                                    type="radio"
                                    class="form-check-input"
                                    name="tagihan"
                                    id="tagihan-sidoarjo"
                                    value="sidoarjo"
                                  />
                                  Sidoarjo
                                </label>
                              </div>
                              <!-- <div class="col-4 form-check form-check-inline" style="margin: 0 0.75rem; display: flex; align-items: center;"> -->
                              <div class="col-6 form-check form-check-inline" 
                                style="
                                  margin: 0;
                                  padding: 0;
                                  padding-left: 1rem;
                                  align-self: center;
                                  justify-content: center;
                                  display: flex;
                                ">
                                <label for="tagihan_top" class="form-check-label" style="margin: 0; position: relative; display: flex; align-items: center;">
                                  TOP :
                                </label>
                                <input
                                  type="text"
                                  class="form-control"
                                  name="tagihan_top"
                                  id="tagihan_top"
                                  placeholder=". . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . ."
                                  disabled
                                />
                                <div id="opsi_tagihan_top" style="display: none; margin-left: 1rem;">
                                  <div class="form-group" style="display: grid; margin: 0; white-space: nowrap; gap: 0.5rem;">
                                    <!-- <div class="form-check form-check-inline" style="margin: 0 0.75rem 0 1.5rem; align-self: center;"> -->
                                    <div class="form-check form-check-inline" 
                                      style="
                                        margin: 0;
                                        padding: 0;
                                    ">
                                      <label for="tagihan_top-hari_kerja" class="form-check-label" style="margin-bottom: 0;">
                                        <input
                                          type="radio"
                                          class="form-check-input"
                                          name="opsi_tagihan_top"
                                          id="tagihan_top-hari_kerja"
                                          value="hari_kerja"
                                          checked
                                        />
                                        Hari Kerja
                                      </label>
                                    </div>
                                    <!-- <div class="form-check form-check-inline" style="margin: 0 0.75rem 0 1.5rem; align-self: center;"> -->
                                    <div class="form-check form-check-inline" 
                                      style="
                                        margin: 0;
                                        padding: 0;
                                    ">
                                      <label for="tagihan_top-kalender" class="form-check-label" style="margin-bottom: 0;">
                                        <input
                                          type="radio"
                                          class="form-check-input"
                                          name="opsi_tagihan_top"
                                          id="tagihan_top-kalender"
                                          value="kalender"
                                        />
                                        Kalender
                                      </label>
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                        <!-- <label for="" style="display: flex; align-items: center;">1. Transfer By : 
                          <div class="form-check form-check-inline" style="margin: 0; display: flex; align-items: center;">
                            <input
                              type="text"
                              class="form-control"
                              name="transfer_by"
                              id=""
                              placeholder=". . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . ."
                              style="margin: 0 0.625rem; border-color: rgb(118,118,118);"
                            />
                          </div>
                        </label> -->
                        <!-- <label for="" style="display: flex; align-items: center;">2. Tunai : 
                          <div class="form-group" style="display: flex; margin: 0;">
                            <div class="form-check" style="margin: 0 0.75rem 0 1.5rem;">
                              <label class="form-check-label" style="margin-bottom: 0;">
                                <input
                                  type="radio"
                                  class="form-check-input"
                                  name="tunai"
                                  id=""
                                  value="jakarta"
                                />
                                Jakarta
                              </label>
                            </div>
                            <div class="form-check" style="margin: 0 0.75rem;">
                              <label class="form-check-label" style="margin-bottom: 0;">
                                <input
                                  type="radio"
                                  class="form-check-input"
                                  name="tunai"
                                  id=""
                                  value="sidoarjo"
                                />
                                Sidoarjo
                              </label>
                            </div>
                            <div class="form-check" style="margin: 0 0.75rem;">
                              <label class="form-check-label" style="margin-bottom: 0;">
                                <input
                                  type="radio"
                                  class="form-check-input"
                                  name="tunai"
                                  id=""
                                  value="makassar"
                                />
                                Makassar
                              </label>
                            </div>
                          </div>
                        </label> -->
                        <!-- <label for="" style="display: flex; align-items: center; white-space: nowrap;">2. Tagihan :
                          <div class="form-group" style="display: flex; margin: 0; white-space: nowrap;">
                            <div class="form-check form-check-inline" style="margin: 0 0.75rem 0 1.5rem; align-self: center;">
                              <label class="form-check-label" style="margin-bottom: 0;">
                                <input
                                  type="radio"
                                  class="form-check-input"
                                  name="tagihan"
                                  id=""
                                  value="jakarta"
                                />
                                Jakarta
                              </label>
                            </div>
                            <div class="form-check form-check-inline" style="margin: 0 0.75rem; align-self: center;">
                              <label class="form-check-label" style="margin-bottom: 0;">
                                <input
                                  type="radio"
                                  class="form-check-input"
                                  name="tagihan"
                                  id=""
                                  value="sidoarjo"
                                />
                                Sidoarjo
                              </label>
                            </div>
                            <div class="form-check form-check-inline" style="margin: 0 0.75rem; display: flex; align-items: center;">
                              <label class="form-check-label" style="margin: 0; position: relative; display: flex; align-items: center;">
                                TOP :
                              </label>
                              <input
                                type="text"
                                class="form-control"
                                name="tagihan_top"
                                id="tagihan_top"
                                placeholder=". . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . ."
                                style="margin: 0 0.625rem; border-color: rgb(118,118,118);"
                              />
                              <div id="opsi_tagihan_top" style="display: none;">
                                <div class="form-group" style="display: grid; margin: 0; white-space: nowrap; gap: 0.5rem;">
                                  <div class="form-check form-check-inline" style="margin: 0 0.75rem 0 1.5rem; align-self: center;">
                                    <label class="form-check-label" style="margin-bottom: 0;">
                                      <input
                                        type="radio"
                                        class="form-check-input"
                                        name="opsi_tagihan_top"
                                        id=""
                                        value="hari_kerja"
                                      />
                                      Hari Kerja
                                    </label>
                                  </div>
                                  <div class="form-check form-check-inline" style="margin: 0 0.75rem 0 1.5rem; align-self: center;">
                                    <label class="form-check-label" style="margin-bottom: 0;">
                                      <input
                                        type="radio"
                                        class="form-check-input"
                                        name="opsi_tagihan_top"
                                        id=""
                                        value="kalender"
                                      />
                                      Kalender
                                    </label>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                        </label> -->
                        <br/>
                        <br/>
                        <div id="detail-pembayaran-2">
                          <div class="form-group form-row">
                            <span class="form-label">Asuransi</span> :
                            <div class="form-group" style="display: flex; margin: 0; white-space: nowrap; width: 100%; justify-content: space-evenly;">
                              <!-- <div class="form-check form-check-inline" style="margin: 0 0.75rem 0 1.5rem; align-self: center;"> -->
                                <!-- <div class="col-9 form-check form-check-inline"  -->
                              <div class="col-3 form-check form-check-inline" 
                                style="
                                  margin: 0;
                                  padding: 0;
                                  align-self: center;
                                  justify-content: center;
                                  display: flex;
                                ">
                                <!-- <label class="form-check-label" style="margin-bottom: 0; display: flex;"> -->
                                <!-- <label class="form-check-label" style="width: 5.5rem;">
                                  <input
                                    type="radio"
                                    class="form-check-input"
                                    name="asuransi"
                                    id="asuransi-ada"
                                    value="ada"
                                  />
                                  Ada
                                </label> -->
                                <label class="form-check-label" style="margin-bottom: 0; display: flex; width: 5.5rem;">
                                  <input
                                    type="radio"
                                    class="form-check-input"
                                    name="asuransi"
                                    id="asuransi-tidak_ada"
                                    value="tidak_ada"
                                  />
                                  Tidak Ada
                                </label>
                                <!-- <div class="form-check form-check-inline" 
                                  style="
                                    margin: 0;
                                    padding: 0;
                                    /* padding-left: 1rem; */
                                    margin-left: 0.625rem;
                                    align-self: center;
                                    justify-content: center;
                                    display: flex;
                                  ">
                                  <label for="perincian_asuransi" class="form-check-label" style="margin: 0; position: relative; display: flex; align-items: center;">
                                    Perincian
                                  </label>
                                  <input
                                    type="text"
                                    class="form-control"
                                    name="perincian_asuransi"
                                    id="perincian_asuransi"
                                    placeholder=". . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . ."
                                  />
                                </div> -->
                              </div>
                              
                              
                              <!-- <div class="form-check form-check-inline" style="margin: 0 0.75rem; align-self: center;"> -->
                              <div class="col-3 form-check form-check-inline" 
                                style="
                                  margin: 0;
                                  padding: 0;
                                  align-self: center;
                                  justify-content: center;
                                  display: flex;
                                ">
                                <!-- <label class="form-check-label" style="margin-bottom: 0; display: flex; width: 5.5rem;">
                                  <input
                                    type="radio"
                                    class="form-check-input"
                                    name="asuransi"
                                    id="asuransi-tidak_ada"
                                    value="tidak_ada"
                                  />
                                  Tidak Ada
                                </label> -->
                                <label class="form-check-label" style="width: 5.5rem;">
                                  <input
                                    type="radio"
                                    class="form-check-input"
                                    name="asuransi"
                                    id="asuransi-ada"
                                    value="ada"
                                  />
                                  Ada
                                </label>
                              </div>

                              <!-- <div class="form-check form-check-inline" style="margin: 0 0.75rem; display: flex; align-items: center;"> -->
                              <div class="col-6 form-check form-check-inline" 
                                style="
                                  margin: 0;
                                  padding: 0;
                                  padding-left: 1rem;
                                  align-self: center;
                                  justify-content: center;
                                  display: flex;
                                ">
                                <label for="perincian_asuransi" class="form-check-label" style="margin: 0; position: relative; display: flex; align-items: center;">
                                  Perincian
                                </label>
                                <input
                                  type="text"
                                  class="form-control"
                                  name="perincian_asuransi"
                                  id="perincian_asuransi"
                                  placeholder=". . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . ."
                                  disabled
                                />
                              </div>
                            </div>
                          </div>
                          <div class="form-group form-row">
                            <span class="form-label">Biaya Koord / Kawal</span> :
                            <div class="form-group" style="display: flex; margin: 0; white-space: nowrap; width: 100%; justify-content: space-evenly;">
                              <div class="col-3 form-check form-check-inline" 
                                style="
                                  margin: 0;
                                  padding: 0;
                                  align-self: center;
                                  justify-content: center;
                                  display: flex;
                                ">
                                <!-- <label class="biaya_koord form-check-label" style="width: 5.5rem;">
                                  <input
                                    type="radio"
                                    class="form-check-input"
                                    name="biaya_koord"
                                    id="biaya_koord-ada"
                                    value="ada"
                                  />
                                  Ada
                                </label> -->
                                <label class="biaya_koord form-check-label" style="width: 5.5rem;">
                                  <input
                                    type="radio"
                                    class="form-check-input"
                                    name="biaya_koord"
                                    id="biaya_koord-tidak_ada"
                                    value="tidak_ada"
                                  />
                                  Tidak Ada
                                </label>
                              </div>
                              <div class="col-3 form-check form-check-inline" 
                                style="
                                  margin: 0;
                                  padding: 0;
                                  align-self: center;
                                  justify-content: center;
                                  display: flex;
                                ">
                                <!-- <label class="form-check-label"> -->
                                <!-- <label class="biaya_koord form-check-label" style="width: 5.5rem;">
                                  <input
                                    type="radio"
                                    class="form-check-input"
                                    name="biaya_koord"
                                    id="biaya_koord-tidak_ada"
                                    value="tidak_ada"
                                  />
                                  Tidak Ada
                                </label> -->
                                <label class="biaya_koord form-check-label" style="width: 5.5rem;">
                                  <input
                                    type="radio"
                                    class="form-check-input"
                                    name="biaya_koord"
                                    id="biaya_koord-ada"
                                    value="ada"
                                  />
                                  Ada
                                </label>
                              </div>
                              <div class="col-6 form-check form-check-inline" 
                                style="
                                  margin: 0;
                                  padding: 0;
                                  padding-left: 1rem;
                                  align-self: center;
                                  justify-content: center;
                                  display: flex;
                                ">
                                <label for="keterangan_biaya_koord" class="form-check-label" style="margin: 0; position: relative; display: flex; align-items: center;">
                                  Ket.
                                </label>
                                <input
                                  type="text"
                                  class="form-control"
                                  name="keterangan_biaya_koord"
                                  id="keterangan_biaya_koord"
                                  placeholder=". . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . ."
                                  disabled
                                />
                              </div>
                            </div>
                          </div>
                          <div class="form-group form-row">
                            <span class="form-label">Penawaran / Kontrak</span> :
                            <div class="form-group" style="display: flex; margin: 0; white-space: nowrap; width: 100%; justify-content: space-evenly;">
                              <div class="col-3 form-check form-check-inline" 
                                style="
                                  margin: 0;
                                  padding: 0;
                                  align-self: center;
                                  justify-content: center;
                                  display: flex;
                                ">
                                <!-- <label class="form-check-label" style="width: 5.5rem;">
                                  <input
                                    type="radio"
                                    class="form-check-input"
                                    name="penawaran"
                                    id=""
                                    value="ada"
                                    style="position: relative;"
                                  />
                                  Ada
                                </label> -->
                                <label class="form-check-label" style="width: 5.5rem;">
                                  <input
                                    type="radio"
                                    class="form-check-input"
                                    name="penawaran_kontrak"
                                    id=""
                                    value="tidak_ada"
                                    style="position: relative;"
                                  />
                                  Tidak Ada
                                </label>
                              </div>
                              <div class="col-3 form-check form-check-inline" 
                                style="
                                  margin: 0;
                                  padding: 0;
                                  align-self: center;
                                  justify-content: center;
                                  display: flex;
                                ">
                                <!-- <label class="form-check-label" style="width: 5.5rem;">
                                  <input
                                    type="radio"
                                    class="form-check-input"
                                    name="penawaran"
                                    id=""
                                    value="tidak_ada"
                                    style="position: relative;"
                                  />
                                  Tidak Ada
                                </label> -->
                                <label class="form-check-label" style="width: 5.5rem;">
                                  <input
                                    type="radio"
                                    class="form-check-input"
                                    name="penawaran_kontrak"
                                    id=""
                                    value="ada"
                                    style="position: relative;"
                                  />
                                  Ada
                                </label>
                                <!-- <div id="opsi_penawaran_kontrak" style="display: none; margin-left: 1rem;">
                                  <div class="form-group" style="display: grid; margin: 0; white-space: nowrap; gap: 0.5rem;">
                                    <div class="form-check form-check-inline" 
                                      style="
                                        margin: 0;
                                        padding: 0;
                                    ">
                                      <label class="form-check-label" style="margin-bottom: 0;">
                                        <input
                                          type="radio"
                                          class="form-check-input"
                                          name="opsi_penawaran_kontrak"
                                          id="penawaran"
                                          value="hari_kerja"
                                          checked
                                        />
                                        Surat Penawaran
                                      </label>
                                    </div>
                                    <div class="form-check form-check-inline" 
                                      style="
                                        margin: 0;
                                        padding: 0;
                                    ">
                                      <label class="form-check-label" style="margin-bottom: 0;">
                                        <input
                                          type="radio"
                                          class="form-check-input"
                                          name="opsi_penawaran_kontrak"
                                          id="kontrak"
                                          value="kontrak"
                                        />
                                        Kontrak
                                      </label>
                                    </div>
                                    <div class="form-check form-check-inline" 
                                      style="
                                        margin: 0;
                                        padding: 0;
                                    ">
                                      <label class="form-check-label" style="margin-bottom: 0;">
                                        <input
                                          type="radio"
                                          class="form-check-input"
                                          name="opsi_penawaran_kontrak"
                                          id="ban"
                                          value="ban"
                                        />
                                        BAN (Berita Acara Negosiasi)
                                      </label>
                                    </div>
                                  </div>
                                </div>
                                <div id="field_opsi_penawaran_kontrak" style="display: none; margin-left: 1rem;">
                                  <div class="form-check form-check-inline" 
                                    style="
                                      margin: 0;
                                      padding: 0;
                                      padding-left: 1rem;
                                      align-self: center;
                                      justify-content: center;
                                      display: flex;
                                    ">
                                    <label for="no_opsi_penawaran_kontrak" class="form-check-label" style="margin: 0; position: relative; display: flex; align-items: center;">
                                      No.
                                    </label>
                                    <input
                                      type="text"
                                      class="form-control"
                                      name="no_opsi_penawaran_kontrak"
                                      id="no_opsi_penawaran_kontrak"
                                      placeholder=". . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . ."
                                      disabled
                                    />
                                  </div>
                                </div> -->
                              </div>
                              <!-- <div class="col-6 form-check form-check-inline"></div> -->
                              <div class="col-6 form-group" 
                                style="
                                  /* display: grid;  */
                                  margin: 0; 
                                  padding: 0;
                                  /* margin-left: 1rem; 
                                  white-space: nowrap; 
                                  gap: 0.5rem; */
                                ">
                                <div id="opsi_penawaran_kontrak" 
                                  style="
                                    display: none;
                                    /* display: grid;
                                    gap: 0.5rem;
                                    margin: 0;
                                    margin-left: 1rem;
                                    margin-top: 0.5rem; */
                                    /* display: none; 
                                    height: unset; */
                                  ">
                                  <div class="form-check form-check-inline" 
                                    style="
                                      margin: 0;
                                      padding: 0;
                                    ">
                                    <label class="form-check-label" style="width: 5.5rem;">
                                      <input
                                        type="radio"
                                        class="form-check-input"
                                        name="opsi_penawaran_kontrak"
                                        id="penawaran"
                                        value="penawaran"
                                        checked
                                        style="position: relative;"
                                      />
                                      Surat Penawaran
                                    </label>
                                  </div>
                                  <div class="form-check form-check-inline" 
                                    style="
                                      margin: 0;
                                      padding: 0;
                                    ">
                                    <label class="form-check-label" style="width: 5.5rem;">
                                      <input
                                        type="radio"
                                        class="form-check-input"
                                        name="opsi_penawaran_kontrak"
                                        id="kontrak"
                                        value="kontrak"
                                        style="position: relative;"
                                      />
                                      Kontrak
                                    </label>
                                  </div>
                                  <div class="form-check form-check-inline" 
                                    style="
                                      margin: 0;
                                      padding: 0;
                                  ">
                                    <label class="form-check-label" style="width: 5.5rem;">
                                      <input
                                        type="radio"
                                        class="form-check-input"
                                        name="opsi_penawaran_kontrak"
                                        id="ban"
                                        value="ban"
                                        style="position: relative;"
                                      />
                                      BAN (Berita Acara Negosiasi)
                                    </label>
                                  </div>
                                  <div class="form-check form-check-inline" 
                                    style="
                                      margin: 0;
                                      padding: 0;
                                      /* margin-left: 1rem;
                                      padding-left: 1rem;
                                      align-self: center;
                                      justify-content: center;
                                      display: flex; */
                                    ">
                                    <label for="no_opsi_penawaran_kontrak" class="form-check-label" style="margin: 0; position: relative; display: flex; align-items: center;">
                                      No.
                                    </label>
                                    <input
                                      type="text"
                                      class="form-control"
                                      name="no_opsi_penawaran_kontrak"
                                      id="no_opsi_penawaran_kontrak"
                                      placeholder=". . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . ."
                                    />
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                          
                          <!-- <div id="opsi_penawaran_kontrak" class="form-group form-row" style="display: none; height: unset;">
                            <span class="form-label"></span> &nbsp;

                            <div class="form-group" style="display: flex; margin: 0; white-space: nowrap; width: 100%; justify-content: space-evenly;">
                              <div class="col-3 form-check form-check-inline" 
                                style="
                                  margin: 0;
                                  padding: 0;
                                  align-self: center;
                                  justify-content: center;
                                  display: flex;
                                ">
                                <label class="form-check-label" style="width: 5.5rem;">
                                  <input
                                    type="radio"
                                    class="form-check-input"
                                    name="opsi_penawaran_kontrak"
                                    id="penawaran"
                                    value="hari_kerja"
                                    checked
                                    style="position: relative;"
                                  />
                                  Surat Penawaran
                                </label>
                              </div>
                              <div class="col-3 form-check form-check-inline" 
                                style="
                                  margin: 0;
                                  padding: 0;
                                  align-self: center;
                                  justify-content: center;
                                  display: flex;
                                ">
                                <label class="form-check-label" style="width: 5.5rem;">
                                  <input
                                    type="radio"
                                    class="form-check-input"
                                    name="opsi_penawaran_kontrak"
                                    id="kontrak"
                                    value="kontrak"
                                    style="position: relative;"
                                  />
                                  Kontrak
                                </label>
                              </div>
                              <div class="col-3 form-check form-check-inline" 
                                style="
                                  margin: 0;
                                  padding: 0;
                                  align-self: center;
                                  justify-content: center;
                                  display: flex;
                                ">
                                <label class="form-check-label" style="width: 5.5rem;">
                                  <input
                                    type="radio"
                                    class="form-check-input"
                                    name="opsi_penawaran_kontrak"
                                    id="ban"
                                    value="ban"
                                    style="position: relative;"
                                  />
                                  BAN (Berita Acara Negosiasi)
                                </label>
                              </div>
                              <div class="col-3 form-check form-check-inline" 
                                style="
                                  margin: 0;
                                  padding: 0;
                                  margin-left: 1rem;
                                  padding-left: 1rem;
                                  align-self: center;
                                  justify-content: center;
                                  display: flex;
                                ">
                                <label for="no_opsi_penawaran_kontrak" class="form-check-label" style="margin: 0; position: relative; display: flex; align-items: center;">
                                  No.
                                </label>
                                <input
                                  type="text"
                                  class="form-control"
                                  name="no_opsi_penawaran_kontrak"
                                  id="no_opsi_penawaran_kontrak"
                                  placeholder=". . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . ."
                                />
                              </div>
                            </div>
                          </div> -->


                          <!-- <div class="form-row">
                            <label for="form-label">Asuransi</label> :
                            <div class="form-group" style="display: flex; margin: 0; white-space: nowrap;">
                              <div class="form-check form-check-inline" style="margin: 0 0.75rem 0 1.5rem; align-self: center;">
                                <label class="form-check-label" style="margin-bottom: 0;">
                                  <input
                                    type="radio"
                                    class="form-check-input"
                                    name="asuransi"
                                    id=""
                                    value="ada"
                                  />
                                  Ada
                                </label>
                              </div>
                              <div class="form-check form-check-inline" style="margin: 0 0.75rem; align-self: center;">
                                <label class="form-check-label" style="margin-bottom: 0;">
                                  <input
                                    type="radio"
                                    class="form-check-input"
                                    name="asuransi"
                                    id=""
                                    value="tidak_ada"
                                  />
                                  Tidak Ada
                                </label>
                              </div>
                              <div class="form-check form-check-inline" style="margin: 0 0.75rem; display: flex; align-items: center;">
                                <label class="form-check-label" style="margin: 0; position: relative; display: flex; align-items: center;">
                                  Perincian
                                </label>
                                <input
                                  type="text"
                                  class="form-control"
                                  name="perincian_asuransi"
                                  id=""
                                  placeholder=". . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . ."
                                  style="margin: 0 0.625rem; border-color: rgb(118,118,118);"
                                />
                              </div>
                            </div>
                          </div>
                        </div> -->
                        <!-- <label for="" style="display: flex; align-items: center;">Asuransi :
                          <div class="form-group" style="display: flex; margin: 0; white-space: nowrap;">
                            <div class="form-check form-check-inline" style="margin: 0 0.75rem 0 1.5rem; align-self: center;">
                              <label class="form-check-label" style="margin-bottom: 0;">
                                <input
                                  type="radio"
                                  class="form-check-input"
                                  name="asuransi"
                                  id=""
                                  value="ada"
                                />
                                Ada
                              </label>
                            </div>
                            <div class="form-check form-check-inline" style="margin: 0 0.75rem; align-self: center;">
                              <label class="form-check-label" style="margin-bottom: 0;">
                                <input
                                  type="radio"
                                  class="form-check-input"
                                  name="asuransi"
                                  id=""
                                  value="tidak_ada"
                                />
                                Tidak Ada
                              </label>
                            </div>
                            <div class="form-check form-check-inline" style="margin: 0 0.75rem; display: flex; align-items: center;">
                              <label class="form-check-label" style="margin: 0; position: relative; display: flex; align-items: center;">
                                Perincian
                              </label>
                              <input
                                type="text"
                                class="form-control"
                                name="perincian_asuransi"
                                id=""
                                placeholder=". . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . ."
                                style="margin: 0 0.625rem; border-color: rgb(118,118,118);"
                              />
                            </div>
                          </div>
                        </label> -->
                        <!-- <label for="" style="display: flex; align-items: center;">Biaya Koord / Kawal :
                          <div class="form-group" style="display: flex; margin: 0; white-space: nowrap;">
                            <div class="form-check form-check-inline" style="margin: 0 0.75rem 0 1.5rem; align-self: center;">
                              <label class="form-check-label" style="margin-bottom: 0;">
                                <input
                                  type="radio"
                                  class="form-check-input"
                                  name="biaya_koord"
                                  id=""
                                  value="ada"
                                />
                                Ada
                              </label>
                            </div>
                            <div class="form-check form-check-inline" style="margin: 0 0.75rem; align-self: center;">
                              <label class="form-check-label" style="margin-bottom: 0;">
                                <input
                                  type="radio"
                                  class="form-check-input"
                                  name="biaya_koord"
                                  id=""
                                  value="tidak_ada"
                                />
                                Tidak Ada
                              </label>
                            </div>
                            <div class="form-check form-check-inline" style="margin: 0 0.75rem; display: flex; align-items: center;">
                              <label class="form-check-label" style="margin: 0; position: relative; display: flex; align-items: center;">
                                Ket.
                              </label>
                              <input
                                type="text"
                                class="form-control"
                                name="keterangan_biaya_koord"
                                id=""
                                placeholder=". . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . ."
                                style="margin: 0 0.625rem; border-color: rgb(118,118,118);"
                              />
                            </div>
                          </div>
                        </label>
                        <label for="" style="display: flex; align-items: center;">Penawaran / Kontrak :
                          <div class="form-group" style="display: flex; margin: 0; white-space: nowrap;">
                            <div class="form-check form-check-inline" style="margin: 0 0.75rem 0 1.5rem; align-self: center;">
                              <label class="form-check-label" style="margin-bottom: 0;">
                                <input
                                  type="radio"
                                  class="form-check-input"
                                  name="penawaran"
                                  id=""
                                  value="ada"
                                />
                                Ada
                              </label>
                            </div>
                            <div class="form-check form-check-inline" style="margin: 0 0.75rem; align-self: center;">
                              <label class="form-check-label" style="margin-bottom: 0;">
                                <input
                                  type="radio"
                                  class="form-check-input"
                                  name="penawaran"
                                  id=""
                                  value="tidak_ada"
                                />
                                Tidak Ada
                              </label>
                            </div>
                          </div>
                        </label> -->
                        <!-- <div class="form-row">
                          <label for="" style="display: flex; align-items: center;"><b>Note : </b>
                            <div class="form-check form-check-inline" style="margin: 0; display: flex; align-items: center;">
                              <input
                                type="text"
                                class="form-control"
                                name="note"
                                id=""
                                placeholder=". . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . ."
                                style="margin: 0 0.625rem; border-color: rgb(118,118,118);"
                              />
                            </div>
                          </label>
                        </div> -->
                        <div class="form-group form-row">
                          <label for="note" style="margin: 0; width: 110px;"><b>Note</b></label><b style="font-weight: 400;">:</b>
                          <div class="form-check form-check-inline" style="margin: 0; display: flex; align-items: center;">
                            <input
                              type="text"
                              class="form-control"
                              name="note"
                              id="note"
                              placeholder=". . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . ."
                            />
                          </div>
                        </div>
                        
                        <!-- <label for="">Asuransi : <input type="checkbox" name="" id=""> Ada <input type="checkbox" name="" id=""> Tidak Ada  &nbsp; Perincian <input type="text" name="" id=""></label>
                        <br/>
                        <label for="">Biaya Koord / Kawal : <input type="checkbox" name="" id=""> Ada <input type="checkbox" name="" id=""> Tidak Ada  &nbsp; Ket. <input type="text" name="" id=""></label>
                        <br/>
                        <label for="">Penawaran / Kontrak : <input type="checkbox" name="" id=""> Ada <input type="checkbox" name="" id=""> Tidak Ada </label>
                        <br/>
                        <label for=""><b>Note : </b><input type="text" name="" id=""></label> -->
                        <!-- <br/> -->
                        <br/>
                        <br/>
                    </div>
                    <!-- <div id="footer" style="border: 1px solid; border-top: unset; display: flex; text-align: center;">
                        <div class="col-3" style="border-right: 1px solid; padding: 0; display: block;">
                            <div style="border-bottom: 1px solid;">Dibuat oleh, </div>
                            <div style="height: 100px; align-content: center;">
                                <input type="text" name="" id="">
                                <input type="button" value="Submit">
                            </div>
                        </div>
                        <div class="col-3" style="border-right: 1px solid; padding: 0; display: block;">
                            <div style="border-bottom: 1px solid;">Disetujui oleh, </div>
                            <div style="height: 100px; align-content: center;">
                                <input type="text" name="" id="">
                                <input type="button" value="Submit">
                            </div>
                        </div>
                        <div class="col-3" style="border-right: 1px solid; padding: 0; display: block;">
                            <div style="border-bottom: 1px solid;">Diterima oleh, </div>
                            <div style="height: 100px; align-content: center;">
                                <input type="text" name="" id="">
                                <input type="button" value="Submit">
                            </div>
                        </div>
                        <div class="col-3" style="padding: 0; display: block;">
                            <div style="border-bottom: 1px solid;">Diterima oleh, </div>
                            <div style="height: 100px; align-content: center;">
                                <input type="text" name="" id="">
                                <input type="button" value="Submit">
                            </div>
                        </div>
                    </div> -->
                    </fieldset>
                </div>
            
                <div id="footer">
                  <div class="col-3" style="border-right: 1px solid; padding: 0; display: block;">
                      <div style="border-bottom: 1px solid;">Dibuat oleh, </div>
                      <!-- <div style="height: 100px; align-content: center;">
                          <input type="text" name="" id="">
                          <input type="button" value="Submit">
                      </div> -->
                      <div id="signature-made-by">
                        <span></span>
                      </div>

                  </div>
                  <div class="col-3" style="border-right: 1px solid; padding: 0; display: block;">
                      <div style="border-bottom: 1px solid;">Disetujui oleh, </div>
                      <div id="signature-approved-by"></div>
                  </div>
                  <div class="col-3" style="border-right: 1px solid; padding: 0; display: block;">
                      <div style="border-bottom: 1px solid;">Diterima oleh, </div>
                      <div id="signature-received-by-1"></div>
                  </div>
                  <div class="col-3" style="padding: 0; display: block;">
                      <div style="border-bottom: 1px solid;">Diterima oleh, </div>
                      <div id="signature-received-by-2"></div>
                  </div>
              </div>
              <div style="margin-top: 4rem; text-align: center;">
                <!-- <input name="" type="submit" value="Submit Form"> -->
                <input class="btn btn-primary" type="submit" value="Submit Form">
              </div>
            </form>
          </div>

        </div>

        <!-- partial:partials/_footer.html -->
        <%- include('./footer.ejs') %>
        <!-- partial -->
      </div>
    </div>

    <!-- core:js -->
    <script src="/vendors/core/core.js"></script>
    <!-- endinject -->
    <!-- plugin js for this page -->
    <!-- jQuery -->
    <script src="/vendors/jSignature/libs/jquery.js"></script>
    <script src="https://code.jquery.com/jquery-3.4.0.min.js"></script>
    <!-- Bootstrap JS -->
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
    <!-- Bootsrap Msg Js -->
    <!-- <script src="/js/bootstrap-msg.js"></script> -->
    <script src="/vendors/chartjs/Chart.min.js"></script>
    <script src="/vendors/jquery.flot/jquery.flot.js"></script>
    <script src="/vendors/jquery.flot/jquery.flot.resize.js"></script>
    <script src="/vendors/bootstrap-datepicker/bootstrap-datepicker.min.js"></script>
    <!-- <script src="https://github.com/jquery/jquery-ui/blob/main/ui/i18n/datepicker-id.js" type='text/javascript'></script> -->
    <script src="/vendors/apexcharts/apexcharts.min.js"></script>
    <script src="/vendors/progressbar.js/progressbar.min.js"></script>
    <script src="/vendors/select2/select2.min.js"></script>
    <script src="/vendors/sweetalert2/sweetalert2.min.js"></script>
    <script src="/vendors/promise-polyfill/polyfill.min.js"></script>
    <!-- Optional:  polyfill for ES6 Promises for IE11 and Android browser -->
    <script src="/vendors/moment/moment.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.27.0/locale/id.min.js" integrity="sha512-he8U4ic6kf3kustvJfiERUpojM8barHoz0WYpAUDWQVn61efpm3aVAD8RWL8OloaDDzMZ1gZiubF9OSdYBqHfQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="/vendors/tempusdominus-bootstrap-4/tempusdominus-bootstrap-4.js"></script>
    <script src="/vendors/inputmask/jquery.inputmask.min.js"></script>
    <script src="/vendors/jquery-validation/jquery.validate.min.js"></script>
    
    <script>
      /*  @preserve
      jQuery pub/sub plugin by Peter Higgins (dante@dojotoolkit.org)
      Loosely based on Dojo publish/subscribe API, limited in scope. Rewritten blindly.
      Original is (c) Dojo Foundation 2004-2010. Released under either AFL or new BSD, see:
      http://dojofoundation.org/license for more information.
      */
      (function($) {
        var topics = {};
        $.publish = function(topic, args) {
            if (topics[topic]) {
                var currentTopic = topics[topic],
                args = args || {};
        
                for (var i = 0, j = currentTopic.length; i < j; i++) {
                    currentTopic[i].call($, args);
                }
            }
        };
        $.subscribe = function(topic, callback) {
            if (!topics[topic]) {
                topics[topic] = [];
            }
            topics[topic].push(callback);
            return {
                "topic": topic,
                "callback": callback
            };
        };
        $.unsubscribe = function(handle) {
            var topic = handle.topic;
            if (topics[topic]) {
                var currentTopic = topics[topic];
        
                for (var i = 0, j = currentTopic.length; i < j; i++) {
                    if (currentTopic[i] === handle.callback) {
                        currentTopic.splice(i, 1);
                    }
                }
            }
        };
      })(jQuery);
      
    </script>
    <script src="/vendors/jSignature/src/jSignature.js"></script>
    <script src="/vendors/jSignature/src/plugins/jSignature.CompressorBase30.js"></script>
    <script src="/vendors/jSignature/src/plugins/jSignature.CompressorSVG.js"></script>
    <script src="/vendors/jSignature/src/plugins/jSignature.UndoButton.js"></script> 
    <script src="/vendors/jSignature/src/plugins/signhere/jSignature.SignHere.js"></script> 
    <script src="https://willowsystems.github.io/jSignature/js/libs/jSignature.min.js"></script>
    <!-- end plugin js for this page -->
    <!-- inject:js -->
    <script src="/vendors/feather-icons/feather.min.js"></script>
    <script src="/js/template.js"></script>
    <!-- endinject -->
    <!-- custom js for this page -->
    <script src="/js/dashboard.js"></script>
    <!-- <script src="/js/datepicker-id.js" charset="UTF-8"></script> -->
    <!-- <script src="/js/datepicker.js"></script> -->
    <!-- <script src="/js/timepicker.js"></script> -->
    <!-- end custom js for this page -->

    <script>
        // import moment from 'moment';
        // import 'moment/locale/id'; 
        // $( function() {
        //     $('#datepicker').datepicker( $.datepicker.regional[ "hi" ] );
        // });
        // console.log(window.location.href);
        // console.log("window.location.pathname is = ", window.location.pathname);
        

        $(document).ready(function() {
          // This is the part where jSignature is initialized.
          // var $sigMadeByDiv = $("#signature-made-by").jSignature({'UndoButton':false});
          // var $sigApprovedByDiv = $("#signature-approved-by").jSignature({'UndoButton':false});
          // var $sigReceivedByDiv1 = $("#signature-received-by-1").jSignature({'UndoButton':false});
          // var $sigReceivedByDiv2 = $("#signature-received-by-2").jSignature({'UndoButton':false});

          // $sigMadeByDiv.jSignature("reset");
          // $sigApprovedByDiv.jSignature("reset");
          // $sigReceivedByDiv1.jSignature("reset");
          // $sigReceivedByDiv2.jSignature("reset");

          

          // let showTimeInterval = setInterval(() => { $("#signature-made-by span").show(); }, 250);

          //   function showTime() {
          //     let currentDateTime = moment().format('DD-MMM-YYYY HH:mm:ss');
          //     console.log(currentDateTime);
          //     if ($("#signature-made-by").jSignature('getData', 'native').length != 0) {
          //       // console.log("ada");
          //       // $("#signature-made-by").append(`<span>${currentDateTime}</span>`);
          //       $("#signature-made-by span").text(currentDateTime);
          //       // $("#signature-made-by span").show();
          //       if (timeInterval !== null) return;
          //       timeInterval = setInterval(function() {
          //         $("#input").val(++value);
          //       }, 250);
          //     } else {
          //       // console.log("nothing");
          //       // $("#signature-made-by span").remove();
          //       $("#signature-made-by span").text("");
          //       // $("#signature-made-by span").hide();
          //       clearInterval(timeInterval);
          //       timeInterval = null;
          //     }
          //   }

          //   function showTime() {
          //     if ($("#signature-made-by").jSignature('getData', 'native').length != 0) {
          //       $("#signature-made-by span").show();
          //     } else {
          //       $("#signature-made-by span").hide();
          //       // clearInterval(showTimeInterval);
          //     }
          //   }

          //   setInterval(showTime, 1);
          //   setInterval(showTime, 100);
          //   setInterval(checkTime, 1);

          //   setInterval(showTime, 1000);

          // var timeInterval = null;
          var timeInterval = 
            setInterval(function() {
              $("#signature-made-by span").text(moment().format('DD-MMM-YYYY HH:mm'));
            }, 1000);

          $("#signature-made-by").bind('change', function(event) { 
            /* 'event.target' will refer to div with "#signature-made-by" */ 

            // let currentDateTime = moment().format('DD-MMM-YYYY HH:mm:ss');
            if ($("#signature-made-by").jSignature('getData', 'native').length != 0) {
              // $("#signature-made-by span").text(currentDateTime);
              // if (timeInterval !== null) return;
              // timeInterval = 
              // if (timeInterval === null) {
              //   timeInterval = 
              //     setInterval(function() {
              //       $("#signature-made-by span").text(moment().format('DD-MMM-YYYY HH:mm:ss'));
              //     }, 1000);
              // }
              $("#signature-made-by span").show();
            } else {
              $("#signature-made-by span").hide();
              // $("#signature-made-by span").text("");
              // clearInterval(timeInterval);
              // timeInterval = null;
            }
          });
          // $("#signature-approved-by").bind('change', function(e){ /* 'e.target' will refer to div with "#signature" */ });
          // $("#signature-received-by-1").bind('change', function(e){ /* 'e.target' will refer to div with "#signature" */ });
          // $("#signature-received-by-2").bind('change', function(e){ /* 'e.target' will refer to div with "#signature" */ });
          

          var date = new Date(),
              today = new Date(date.getFullYear(), date.getMonth(), date.getDate()),
              city,
              city_code,
              // database,
              list_nama_pengirim,
              list_alamat_pengirim,
              list_kontak_pengirim,
              list_nama_penerima,
              list_alamat_penerima,
              list_kontak_penerima,
              list_merk_unit,
              list_type_unit,
              // list_nopol_noka_unit,
              list_warna_unit,
              // tempOptTag,
              rowIndex,
              select2_invalid_nama_pengirim,
              select2_invalid_alamat_pengirim,
              select2_invalid_kontak_pengirim,
              select2_invalid_nama_penerima,
              select2_invalid_alamat_penerima,
              select2_invalid_kontak_penerima
          ;

          // console.log("contentTable in job order = ", JSON.stringify(database, null, '\t'));

          const no_joj = <%- JSON.stringify(no_joj) %>;
          // console.log("no_joj in job order = ", no_joj);

          var list_nama_pengirim = <%- JSON.stringify(listNamaPengirim) %>;
          // console.log("list_nama_pengirim in job order = ", JSON.stringify(list_nama_pengirim, null, '\t'));
          
          var list_alamat_pengirim = <%- JSON.stringify(listAlamatPengirim) %>;
          // console.log("list_alamat_pengirim in job order = ", JSON.stringify(list_alamat_pengirim, null, '\t'));

          var list_kontak_pengirim = <%- JSON.stringify(listKontakPengirim) %>;
          // console.log("list_kontak_pengirim in job order = ", JSON.stringify(list_kontak_pengirim, null, '\t'));

          var list_nama_penerima = <%- JSON.stringify(listNamaPenerima) %>;
          // console.log("list_nama_penerima in job order = ", JSON.stringify(list_nama_penerima, null, '\t'));

          var list_alamat_penerima = <%- JSON.stringify(listAlamatPenerima) %>;
          // console.log("list_alamat_penerima in job order = ", JSON.stringify(list_alamat_penerima, null, '\t'));

          var list_kontak_penerima = <%- JSON.stringify(listKontakPenerima) %>;
          // console.log("list_kontak_penerima in job order = ", JSON.stringify(list_kontak_penerima, null, '\t'));

          var list_merk_unit = <%- JSON.stringify(listMerkUnit) %>;
          // console.log("list_merk_unit in job order = ", JSON.stringify(list_merk_unit, null, '\t'));

          var list_type_unit = <%- JSON.stringify(listTypeUnit) %>;
          // console.log("list_type_unit in job order = ", JSON.stringify(list_type_unit, null, '\t'));

          var list_warna_unit = <%- JSON.stringify(listWarnaUnit) %>;
          // console.log("list_warna_unit in job order = ", JSON.stringify(list_warna_unit, null, '\t'));

          // var filteredData = [];
          // var modalData = [];
          // var modalAction;
          // console.log("main of modalAction = ", modalAction);

          // var arr_no_joj = [];
          // var arr_tgl_joj = [];
          // var arr_nama_pengirim = [];
          // var arr_alamat_pengirim = [];
          // var arr_kontak_pengirim = [];
          // var arr_nama_penerima = [];
          // var arr_alamat_penerima = [];
          // var arr_kontak_penerima = [];
          // // var arr_pengambilan = [];
          // var arr_jumlah = [];
          // var arr_status = [];
          // var arr_merk = [];
          // var arr_type = [];
          // var arr_nopol_noka = [];
          // var arr_warna = [];

          var new_list_nama_pengirim = [];
          var new_list_alamat_pengirim = [];
          var new_list_kontak_pengirim = [];
          var new_list_nama_penerima = [];
          var new_list_alamat_penerima = [];
          var new_list_kontak_penerima = [];
          var new_list_merk_unit = [];
          var new_list_type_unit = [];
          var new_list_warna_unit = [];

          var shortMonths = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];
          var phoneExp = /(?:(?:\+?1\s*(?:[.-]\s*)?)?(?:\(\s*([2-9]1[02-9]|[2-9][02-8]1|[2-9][02-8][02-9])\s*\)|([2-9]1[02-9]|[2-9][02-8]1|[2-9][02-8][02-9]))\s*(?:[.-]\s*)?)?([2-9]1[02-9]|[2-9][02-9]1|[2-9][02-9]{2})\s*(?:[.-]\s*)?([0-9]{4})(?:\s*(?:#|x\.?|ext\.?|extension)\s*(\d+))?/img;

          $.fn.datepicker.dates['id'] = {
            days: ["Minggu", "Senin", "Selasa", "Rabu", "Kamis", "Jumat", "Sabtu"],
            daysShort: ["Min", "Sen", "Sel", "Rab", "Kam", "Jum", "Sab"],
            daysMin: ["Mg", "Sn", "Sl", "Rb", "Km", "Jm", "Sb"],
            months: ["Januari", "Februari", "Maret", "April", "Mei", "Juni", "Juli", "Agustus", "September", "Oktober", "November", "Desember"],
            monthsShort: ["Jan", "Feb", "Mar", "Apr", "Mei", "Jun", "Jul", "Ags", "Sep", "Okt", "Nov", "Des"],
            today: "Hari ini",
            clear: "Clear",
            format: "dd MM yy",
            titleFormat: "MM yyyy", /* Leverages same syntax as 'format' */
            weekStart: 0
          };

          var headTable = [
            "No.",
            "Nomor JO",
            "Tanggal JO",
            "Nama Pengirim",
            "Alamat Pengirim",
            "Kontak Pengirim",
            "Nama Penerima",
            "Alamat Penerima",
            "Kontak Penerima",
            "Merk",
            "Tipe",
            "Nopol / Noka",
            "Warna",
          ];

          // if (window.location.pathname === "/marketing/choose-jo-city") {
            // console.log("Yep that's true");

          $("#choose-jo-city > #container > button.city").on('click', async function () {
            city = this.id;
            console.log("city is = ", city);

            if (city === "Sidoarjo") {
              city_code = "01";
            } else if (city === "Cikarang") {
              city_code = "02";
            } else if (city === "Jakarta") {
              city_code = "03";
            } else if (city === "Makassar") {
              city_code = "04";
            }

            console.log("city_code is = ", city_code);

            // window.location.href = "/marketing/input-job-order";
            // window.history.pushState({}, "United Transindo Admin Dashboard", "/marketing/input-job-order");

            $("#choose-jo-city").hide();

            $(".spinner-border").show();

            
            // const loadData = async () => {
            //   try {
            //     const response = await fetch("/generate-no-job-order");
            //     console.log("response of loadData = ", response);
                
            //     if (response.ok) {
            //       console.log('Promise resolved and HTTP status is successful');
            //       const data = await response.json();
            //       console.log("data json from response of loadData = ", data);
                  
            //       no_joj = data.no_joj;
            //       console.log("no_joj in job order = ", no_joj);
            //     } else {
            //       console.log('error: ', response.status, response.statusText);
            //       console.error('Promise resolved but HTTP status failed');
            //       /* Handle the error returned by the HTTP request */
            //       return {error: {status: response.status, statusText: response.statusText}};
            //     }
            //   } catch (err) {
            //     console.log("Promise rejected");
            //     console.error(err)
            //   }
            //   // await $.ajax({
            //   //   url: "/job-order-data",
            //   //   type: "GET",
            //   //   dataType: "json",
            //   //   success: async (res) => {
            //   //     console.log("results = ", res);
            //   //   },
            //   //   error: function (err) {
            //   //     console.log("error = ", err);
            //   //   },
            //   // });
            // };

            // await loadData();

            // const findMax = value => value.reduce((res, cur) => res < cur ? cur : res, -Infinity);
            
            let label_no_joj = city_code + String(moment(new Date()).format('YY')) + String(moment(new Date()).format('MM')) + String(no_joj).padStart(6, '0');

            $("#jo-template #content > #header div:nth-child(2) span").text(`No. JO : ${label_no_joj}`);

            $(`.hr_tgl_ambil`).datepicker({
              format: "DD / dd MM yyyy",
              language: "id",
              startDate: today,
              todayHighlight: true,
              autoclose: true
            });

            $(".hr_tgl_ambil").datepicker('setDate', new Date());

            // console.log("tempOptTag = ", tempOptTag);

            // console.log("select2label_nama_pengirim outside = ", select2label_nama_pengirim);

            $(`#nama_pengirim`).append(`<option></option>`);
            list_nama_pengirim.forEach(nama_pengirim => {
                $(`#nama_pengirim`).append(`<option value="${nama_pengirim}">${nama_pengirim}</option>`);
            });

            $(`#nama_pengirim`).val(null);

            /*
            * When you change the value the select via select2, it triggers
            * a 'change' event, but the jquery validation plugin
            * only re-validates on 'blur'
            */

            $(`#nama_pengirim`).select2({
                placeholder: "PILIH SALAH SATU",
                // placeholder: {
                //   id: '-1', // the value of the option
                //   text: 'PILIH SALAH SATU'
                // },
                allowClear: true,
                width: "style",
                tags: true,
                minimumInputLength: 3,
                // language: {
                //   inputTooShort: function() {
                //       return 'Please Add More Text';
                //   },
                // },

                // createTag: function (params) {
                //   let term = $.trim(params.term);

                //   console.log("params is = ", params);

                //   console.log("term is = ", term);

                //   console.log("this createTag = ", $(this));

                //   console.log("this element createTag = ", $(this)[0]["$element"][0]);

                //   console.log($(".nama_pengirim option").length);

                //   let isExist = false;

                //   console.log("find muller = ", $(".nama_pengirim").find(`option[value="${}"]`).length);

                //   // if ($('.nama_pengirim option').length > 0) {
                //     $('.nama_pengirim option').each(function() {

                //       if ($(this).text().toUpperCase() == term.toUpperCase()) {
                //         isExist = true;
                //         console.log("isExist = ", isExist);
                //         return null;
                //       }
                //     });
                //   // }

                //   console.log("isExist = ", isExist);
                //   return {  
                //     id: params.term,
                //     text: params.term,
                //     newTag: true
                //   }
                // },
                // insertTag: function (data, tag) {
                //   // Insert the tag at the end of the results
                //   console.log("data = ", data);
                //   console.log("push tag = ", tag);
                //   data.push(tag);
                // },
                // createTag: function (params) {
                //   return {
                //     id: params.term,
                //     text: params.term,
                //     newOption: true
                //   }
                // },
                // templateResult: function (data) {
                //   let $result = $("<span></span>");

                //   $result.text(data.text);

                //   if (data.newOption) {
                //     $result.append("<em>(new)</em>");
                //   }

                //   return $result;
                // },
                closeOnSelect: true,
            }).on("change", function(event) {
              console.log("on change this value nama pengirim = ", this.value);

              // console.log("is #nama_pengirim valid = ", $(this).valid());

              // $(this).valid();

              // console.log("select2label_nama_pengirim before = ", select2label_nama_pengirim);
              
              // select2label_nama_pengirim.remove();

              // select2label_nama_pengirim = undefined;

              // $("#nama_pengirim-error").remove();

              $(this).trigger('blur');

              // if (select2_invalid_nama_pengirim && $(this).valid()) {
              //   select2_invalid_nama_pengirim.remove();
              //   select2_invalid_nama_pengirim = undefined;
              // }

              // console.log("select2label_nama_pengirim after = ", select2label_nama_pengirim);


              // console.log('np chg');
              // $("#nama_pengirim").rules('add', {
              //       required: true,
              //       minlength: 5,
              //       messages: {
              //           required: "Mohon Isi Field Nama Pengirim",
              //           minlength: "Field Nama Pengirim harus terdiri dari minimal {0} karakter",
              //       },
              //   })

              // console.log($('.nama_pengirim option').text().toUpperCase());

              // console.log($('.nama_pengirim option').text().toUpperCase().indexOf(this.value.toUpperCase()));

              $('#alamat_pengirim').prop('disabled', !this.value);

              // $(`#nama_pengirim`).parent().removeClass('has-danger');
              // $(`#nama_pengirim`).removeClass('form-control-danger');
              // $("label.error.text-danger").remove();
            }).on("blur", function(event) {
              console.log("on blur this value nama pengirim = ", this.value);
            }).on("select2:unselecting", function(e) {
              console.log("select2 unselecting");
              console.log("select unselecting value nama pengirim = ", this.value);

              $(`#alamat_pengirim`).val(null).trigger('change');
              $(`#alamat_pengirim`).parent().removeClass('has-danger');
              $(`#alamat_pengirim`).removeClass('form-control-danger');
              $(`#alamat_pengirim-error`).remove();

              $(`#kontak_pengirim`).val(null).trigger('change');
              $(`#kontak_pengirim`).parent().removeClass('has-danger');
              $(`#kontak_pengirim`).removeClass('form-control-danger');
              $(`#kontak_pengirim-error`).remove();
              
              $(this).on("select2:opening", function (evt) {
                evt.preventDefault();
                $(this).off("select2:opening");
              });
            }).on("select2:select", function(e) {
              console.log("select2 select");
              console.log("select input value nama pengirim = ", this.value);

              if (list_nama_pengirim.findIndex(nama_pengirim => String(this.value).toLowerCase() === String(nama_pengirim).toLowerCase()) === -1) {
                console.log(this.value, "added to dataset");
                new_list_nama_pengirim.push(this.value);
                list_nama_pengirim.push(this.value);
                $(this).append(new Option(this.value, this.value, true, true));
              }
            });

            // Add this: clear all options when select2 has initialized
            // if ($('.nama_pengirim.fix').hasClass("select2-hidden-accessible")) {
            //     $('.nama_pengirim.fix').val(null).trigger('change');
            // }

            // $(".nama_pengirim select2-nama_pengirim-container .select2-selection__clear").on("click", function(event) {
            //     // $(`.nama_pengirim`).val("");
            //     console.log(1);
            //     // $(".nama_pengirim").val(null).trigger('change');
            //     $(".nama_pengirim").val(null);
            // });

            $(`#alamat_pengirim`).append(`<option></option>`);
            list_alamat_pengirim.forEach(alamat_pengirim => {
                $(`#alamat_pengirim`).append(`<option value="${alamat_pengirim}">${alamat_pengirim}</option>`);
            });

            $(`#alamat_pengirim`).val(null);

            $(`#alamat_pengirim`).select2({
                // theme: "bootstrap-5",
                placeholder: "PILIH SALAH SATU",
                allowClear: true,
                width: "style",
                tags: true,
                closeOnSelect: true,
                minimumInputLength: 5,
                // language: {
                //     noResults: () => {
                //         // let val;
                //         // $('.alamat_pengirim').on('keyup', (event) => {
                //         //     val
                //         // });
                //         // return "No Results were Found :( <a href='#' class='btn btn-danger'>Use it anyway</a>";
                //         return $(`.alamat_pengirim`).val();
                //     }
                // },
                // val: "",
            }).on("change", function(event) {
              console.log("on change this value alamat pengirim = ", this.value);

              $(this).trigger('blur');

              $('#kontak_pengirim').prop('disabled', !$('#nama_pengirim').val() || !this.value);
              
              // $(`#alamat_pengirim`).parent().removeClass('has-danger');
              // $(`#alamat_pengirim`).removeClass('form-control-danger');
              // $("label.error.text-danger").remove();
            }).on("blur", function(event) {
              console.log("on blur this value alamat pengirim = ", this.value);
            }).on("select2:unselecting", function(e) {
              console.log("select2 unselecting");
              console.log("select unselecting value alamat pengirim = ", this.value);

              $(`#kontak_pengirim`).val(null).trigger('change');
              $(`#kontak_pengirim`).parent().removeClass('has-danger');
              $(`#kontak_pengirim`).removeClass('form-control-danger');
              $(`#kontak_pengirim-error`).remove();
              
              $(this).on("select2:opening", function (evt) {
                evt.preventDefault();
                $(this).off("select2:opening");
              });
            }).on("select2:select", function(e) {
              console.log("select2 select");
              console.log("select input value alamat pengirim = ", this.value);

              if (list_alamat_pengirim.findIndex(alamat_pengirim => String(this.value).toLowerCase() === String(alamat_pengirim).toLowerCase()) === -1) {
                console.log(this.value, "added to dataset");
                new_list_alamat_pengirim.push(this.value);
                list_alamat_pengirim.push(this.value);
                $(this).append(new Option(this.value, this.value, true, true));
              }
            });

            $(`#kontak_pengirim`).append(`<option></option>`);
            list_kontak_pengirim.forEach(kontak_pengirim => {
                $(`#kontak_pengirim`).append(`<option value="${kontak_pengirim}">${kontak_pengirim}</option>`);
            });

            $(`#kontak_pengirim`).val(null);

            $(`#kontak_pengirim`).select2({
                placeholder: "PILIH SALAH SATU",
                allowClear: true,
                width: "style",
                tags: true,
                closeOnSelect: true,
                minimumInputLength: 5,
            }).on("change", function(event) {
              console.log("on change this value kontak pengirim = ", this.value);

              $(this).trigger('blur');
              
              // $(`#kontak_pengirim`).parent().removeClass('has-danger');
              // $(`#kontak_pengirim`).removeClass('form-control-danger');
              // $("label.error.text-danger").remove();
            }).on("blur", function(event) {
              console.log("on blur this value kontak pengirim = ", this.value);
            }).on("select2:unselecting", function(e) {
              console.log("select2 unselecting");
              console.log("select unselecting value kontak pengirim = ", this.value);
              
              $(this).on("select2:opening", function (evt) {
                evt.preventDefault();
                $(this).off("select2:opening");
              });
            }).on("select2:select", function(e) {
              console.log("select2 select");
              console.log("select input value kontak pengirim = ", this.value);

              if (list_kontak_pengirim.findIndex(kontak_pengirim => String(this.value).toLowerCase() === String(kontak_pengirim).toLowerCase()) === -1) {
                console.log(this.value, "added to dataset");
                new_list_kontak_pengirim.push(this.value);
                list_kontak_pengirim.push(this.value);
                $(this).append(new Option(this.value, this.value, true, true));
              }
            });

            $(`#nama_penerima`).append(`<option value=""></option>`);
            list_nama_penerima.forEach(nama_penerima => {
                $(`#nama_penerima`).append(`<option value="${nama_penerima}">${nama_penerima}</option>`);
            });

            $(`#nama_penerima`).val(null);

            $(`#nama_penerima`).select2({
                placeholder: "PILIH SALAH SATU",
                allowClear: true,
                width: "style",
                tags: true,
                closeOnSelect: true,
                minimumInputLength: 3,
            }).on("change", function(event) {
              console.log("on change this value nama penerima = ", this.value);

              $(this).trigger('blur');

              $('#alamat_penerima').prop('disabled', !this.value);

              // $(`#nama_penerima`).parent().removeClass('has-danger');
              // $(`#nama_penerima`).removeClass('form-control-danger');
              // $("label.error.text-danger").remove();
            }).on("blur", function(event) {
              console.log("on blur this value nama penerima = ", this.value);
            }).on("select2:unselecting", function(e) {
              console.log("select2 unselecting");
              console.log("select unselecting value nama penerima = ", this.value);

              $(`#alamat_penerima`).val(null).trigger('change');
              $(`#alamat_penerima`).parent().removeClass('has-danger');
              $(`#alamat_penerima`).removeClass('form-control-danger');
              $(`#alamat_penerima-error`).remove();

              $(`#kontak_penerima`).val(null).trigger('change');
              $(`#kontak_penerima`).parent().removeClass('has-danger');
              $(`#kontak_penerima`).removeClass('form-control-danger');
              $(`#kontak_penerima-error`).remove();
              
              $(this).on("select2:opening", function (evt) {
                evt.preventDefault();
                $(this).off("select2:opening");
              });
            }).on("select2:select", function(e) {
              console.log("select2 select");
              console.log("select input value nama penerima = ", this.value);

              if (list_nama_penerima.findIndex(nama_penerima => String(this.value).toLowerCase() === String(nama_penerima).toLowerCase()) === -1) {
                console.log(this.value, "added to dataset");
                new_list_nama_penerima.push(this.value);
                list_nama_penerima.push(this.value);
                $(this).append(new Option(this.value, this.value, true, true));
              }
            });

            $(`#alamat_penerima`).append(`<option value=""></option>`);
            list_alamat_penerima.forEach(alamat_penerima => {
                $(`#alamat_penerima`).append(`<option value="${alamat_penerima}">${alamat_penerima}</option>`);
            });

            $(`#alamat_penerima`).val(null);

            $(`#alamat_penerima`).select2({
                placeholder: "PILIH SALAH SATU",
                allowClear: true,
                width: "style",
                tags: true,
                closeOnSelect: true,
                minimumInputLength: 5,
            }).on("change", function(event) {
              $(this).trigger('blur');

              $('#kontak_penerima').prop('disabled', !$('#nama_penerima').val() || !this.value);

              // $(`#alamat_penerima`).parent().removeClass('has-danger');
              // $(`#alamat_penerima`).removeClass('form-control-danger');
              // $("label.error.text-danger").remove();
            }).on("blur", function(event) {
              console.log("on blur this value alamat penerima = ", this.value);
            }).on("select2:unselecting", function(e) {
              console.log("select2 unselecting");
              console.log("select unselecting value alamat penerima = ", this.value);
              
              $(`#kontak_penerima`).val(null).trigger('change');
              $(`#kontak_penerima`).parent().removeClass('has-danger');
              $(`#kontak_penerima`).removeClass('form-control-danger');
              $(`#kontak_penerima-error`).remove();

              $(this).on("select2:opening", function (evt) {
                evt.preventDefault();
                $(this).off("select2:opening");
              });
            }).on("select2:select", function(e) {
              console.log("select2 select");
              console.log("select input value alamat penerima = ", this.value);

              if (list_alamat_penerima.findIndex(alamat_penerima => String(this.value).toLowerCase() === String(alamat_penerima).toLowerCase()) === -1) {
                console.log(this.value, "added to dataset");
                new_list_alamat_penerima.push(this.value);
                list_alamat_penerima.push(this.value);
                $(this).append(new Option(this.value, this.value, true, true));
              }
            });

            $(`#kontak_penerima`).append(`<option></option>`);
            list_kontak_penerima.forEach(kontak_penerima => {
                $(`#kontak_penerima`).append(`<option value="${kontak_penerima}">${kontak_penerima}</option>`);
            });

            $(`#kontak_penerima`).val(null);

            $(`#kontak_penerima`).select2({
                placeholder: "PILIH SALAH SATU",
                allowClear: true,
                width: "style",
                tags: true,
                closeOnSelect: true,
                minimumInputLength: 5,
            }).on("change", function(event) {
              $(this).trigger('blur');

              // $(`#kontak_penerima`).parent().removeClass('has-danger');
              // $(`#kontak_penerima`).removeClass('form-control-danger');
              // $("label.error.text-danger").remove();
            }).on("blur", function(event) {
              console.log("on blur this value kontak penerima = ", this.value);
            }).on("select2:unselecting", function(e) {
              console.log("select2 unselecting");
              console.log("select unselecting value kontak penerima = ", this.value);
              
              $(this).on("select2:opening", function (evt) {
                evt.preventDefault();
                $(this).off("select2:opening");
              });
            }).on("select2:select", function(e) {
              console.log("select2 select");
              console.log("select input value kontak penerima = ", this.value);

              if (list_kontak_penerima.findIndex(kontak_penerima => String(this.value).toLowerCase() === String(kontak_penerima).toLowerCase()) === -1) {
                console.log(this.value, "added to dataset");
                new_list_kontak_penerima.push(this.value);
                list_kontak_penerima.push(this.value);
                $(this).append(new Option(this.value, this.value, true, true));
              }
            });


            // validate signup form on keyup and submit
            // var validator = $("#jo-form").validate({
              $("#jo-form").validate({
              // showErrors: function(errorMap, errorList) {
              //     $(".errormsg").html($.map(errorList, function(el) {
              //         return el.message;
              //     }).join(", "));
              // },
              wrapper: "span",
              // ignore: [],
              ignore: 'input[type=hidden], .select2-input, .select2-focusser',
              rules: {
                nama_pengirim: {
                  required: true,
                },
                alamat_pengirim: {
                  required: true,
                },
                kontak_pengirim: {
                  required: true,
                },
                nama_penerima: {
                  required: true,
                  // minlength: 3,
                },
                alamat_penerima: {
                  required: true,
                },
                kontak_penerima: {
                  required: true,
                },
              },
              messages: {
                nama_pengirim: {
                  required: "Mohon Isi Field Nama Pengirim",
                },
                alamat_pengirim: {
                  required: "Mohon Isi Field Alamat Pengirim",
                },
                kontak_pengirim: {
                  required: "Mohon Isi Field Kontak Pengirim",
                },
                nama_penerima: {
                  required: "Mohon Isi Field Nama Penerima",
                  // minlength: "Field Nama Penerima harus terdiri dari minimal {0} karakter",
                },
                alamat_penerima: {
                  required: "Mohon Isi Field Alamat Penerima",
                },
                kontak_penerima: {
                  required: "Mohon Isi Field Kontak Penerima",
                },
              },
              errorPlacement: function(label, element) {
                label.insertAfter(element.next('.select2-container')).addClass('text-danger');
                // console.log("select2label_nama_pengirim errorPlacement before = ", select2label_nama_pengirim);
                // select2label_nama_pengirim = label;
                // console.log("select2label_nama_pengirim errorPlacement after = ", select2label_nama_pengirim);
                // select2_invalid_nama_pengirim = label;
              },
              highlight: function(element, errorClass) {
                $(element).parent().addClass('has-danger');
                $(element).addClass('form-control-danger');
              },
              // unhighlight: function(label, element) {
              //   $(element).parent().removeClass('has-danger');
              //   $(element).removeClass('form-control-danger');
              //   label.remove();
              // },
              success: function(label, element) {
                $(element).parent().removeClass('has-danger');
                $(element).removeClass('form-control-danger');
                label.remove();
              },
            });

            generateFieldTable();

            // $('#my-select').select2({
            //     placeholder: 'Select a month',
            //     allowClear: true,
            //     width: "style",
            //     tags: true,
            // }).on("change", function(event) {
            //   $('.alamat_pengirim').val(null).trigger('change');
            // })

//             $('#my-select').select2({
//               placeholder: 'Input Here',
// allowClear: true,
// width: "style",
// tags: true,
//               data: [{
//                 id: 0,
//                 text: "",
//               },
//                 {
//                 id: 1,
//                 text: "group1",
//                 // disabled: true,
//                 // selected: false,
//                 children: [{
//                   id: '1',
//                   text: 'option 1',
//                 }, {
//                   id: '2',
//     text: 'option 2',
//     disabled: false,
//                 }, {
//                   text: 'option 3',
//     disabled: true,
//                 }],
//               }, {
//                 text: 'group2',
//   disabled: true,
//   children: [{
//     id: '4',
//     text: 'option 4',
//     disabled: true,
//   }, {
//     id: '5',
//     text: 'option 5'
//   }],
//               }],

            // $(`.merk`).append(`<option></option>`);
            // list_merk_unit.forEach(merk => {
            //     $(`.merk`).append(`<option value="${merk}">${merk}</option>`);
            // });

            // $(`.merk`).val(null);

            // $(`.merk`).select2({
            //     placeholder: "PILIH SALAH SATU",
            //     allowClear: true,
            //     width: "style",
            //     tags: true,
            // });
            
            // div:nth-child(1)

            // $('[name^="merk"]').on("change", function(e) {
            // // $('[name="merk[]"]').on("change", function(e) {
            //   // alert($(this).index());
            //   // rowIndex = $('[name="merk[]"]').index(this);
            //   rowIndex = $(this).attr("name").match(/\d+/)[0];
            //   // rowIndex = $('[name="merk[]"]').index(this);
            //   // let unitIndex = $('[name="merk[]"]').index(this);
            //   console.log("rowIndex merk is = ", rowIndex);

            //   console.log(`[name="merk[]"] at index ${rowIndex} change value is = `, this.value);

            //   // console.log($(`[name="tipe[]"]`));
            //   // console.log($(`[name="tipe[]"]`)[rowIndex]);
            //   // console.log($(`[name="tipe[]"]`).eq(rowIndex));
              
              
            //   $(`[name="tipe[${rowIndex}]"]`).prop('disabled', !this.value);
            //   // $(`[name="tipe[]"]`).eq(rowIndex).prop('disabled', !this.value);
            //   // $(`[name="tipe[]"]`)[rowIndex].prop('disabled', !this.value);
            //   // $('[name="nopol_noka[]').prop('disabled', !this.value);
            //   // $('[name="warna[]').prop('disabled', !this.value);
            //   // $('[name="status[]').prop('disabled', !this.value);
            //   // $('[name="kondisi[]').prop('disabled', !this.value);
            //   // $('[name="lainnya[]').prop('disabled', !this.value);
              
            //   // $(`#kontak_penerima`).parent().removeClass('has-danger');
            //   // $(`#kontak_penerima`).removeClass('form-control-danger');
            //   // $("label.error.text-danger").remove();
            // }).on("select2:opening", function(e) {
            //   if ($(this).data('unselecting')) {
            //     $(this).removeData('unselecting');
            //     // $(`[name="tipe[]"]`).eq(rowIndex).val(null).trigger('change');
            //     // $(`[name="nopol_noka[]"]`).eq(rowIndex).val(null).trigger('change');
            //     // $(`[name="warna[]"]`).eq(rowIndex).val(null).trigger('change');
            //     // // $(`[name="status[]"]`).val(null).trigger('change');
            //     // $(`[name="status[${rowIndex}]"]`).eq(rowIndex).prop('checked', false);
            //     // $(`[name="kondisi[${rowIndex}]"]`).eq(rowIndex).prop('checked', false);
            //     // // $(`[name="kondisi[]"]`).eq(rowIndex).val(null).trigger('change');
            //     // $(`[name="lainnya[]"]`).eq(rowIndex).val(null).trigger('change');
            //     $(`[name="tipe[${rowIndex}]"]`).val(null).trigger('change');
            //     $(`[name="nopol_noka[${rowIndex}]"]`).val(null).trigger('change');
            //     $(`[name="warna[${rowIndex}]"]`).val(null).trigger('change');
            //     $(`[name="status[${rowIndex}]"]`).prop('checked', false);
            //     $(`[name="kondisi[${rowIndex}]"]`).prop('checked', false);
            //     $(`[name="lainnya[${rowIndex}]"]`).val(null).trigger('change');

            //     // $('[name="tipe[]').eq(rowIndex).prop('disabled', true);
            //     // $('[name="nopol_noka[]').eq(rowIndex).prop('disabled', true);
            //     // $('[name="warna[]').eq(rowIndex).prop('disabled', true);
            //     // $('[name="kondisi[]').eq(rowIndex).prop('disabled', true);
            //     // $('[name="lainnya[]').eq(rowIndex).prop('disabled', true);
            //     $(`[name="tipe[${rowIndex}]"]`).prop('disabled', true);
            //     $(`[name="nopol_noka[${rowIndex}]"]`).prop('disabled', true);
            //     $(`[name="warna[${rowIndex}]"]`).prop('disabled', true);
            //     $(`[name="status[${rowIndex}]"]`).prop('disabled', true);
            //     $(`[name="kondisi[${rowIndex}]"]`).prop('disabled', true);
            //     $(`[name="lainnya[${rowIndex}]"]`).prop('disabled', true);
            //     e.preventDefault();
            //   }
            // }).on("select2:unselecting", function(e) {
            //   // rowIndex = $('[name="merk[]"]').index(this);
            //   rowIndex = $(this).attr("name").match(/\d+/)[0];
            //   $(this).data('unselecting', true);
            // }).on("select2:select", function(e) {
            //   // rowIndex = $('[name="merk[]"]').index(this);
            //   rowIndex = $(this).attr("name").match(/\d+/)[0];
            //   console.log(`[name="merk[]"] at index ${rowIndex} select value is = `, this.value);

            //   if (list_merk_unit.findIndex(merk => String(this.value).toLowerCase() === String(merk).toLowerCase()) === -1) {
            //     console.log(`merk at ${rowIndex} with ${this.value} is added`);
            //     list_merk_unit.push(this.value);
            //     $(this).append(new Option(this.value, this.value, true, true));
            //   }
            // });

            // $('[name^="merk"]').on("change", function(e) {
            // // $('[name="merk[]"]').on("change", function(e) {
            //   // alert($(this).index());
            //   rowIndex = $('[name="merk[]"]').index(this);
            //   console.log("rowIndex merk is = ", rowIndex);

            //   console.log(`[name="merk[]"] change value is = `, this.value);
              
              
            //   $(`[name="tipe[]"]`).prop('disabled', !this.value);
            //   // $('[name="nopol_noka[]').prop('disabled', !this.value);
            //   // $('[name="warna[]').prop('disabled', !this.value);
            //   // $('[name="status[]').prop('disabled', !this.value);
            //   // $('[name="kondisi[]').prop('disabled', !this.value);
            //   // $('[name="lainnya[]').prop('disabled', !this.value);
              
            //   // $(`#kontak_penerima`).parent().removeClass('has-danger');
            //   // $(`#kontak_penerima`).removeClass('form-control-danger');
            //   // $("label.error.text-danger").remove();
            // }).on("select2:opening", function(e) {
            //   if ($(this).data('unselecting')) {
            //     $(this).removeData('unselecting');
            //     $(`[name="tipe[]"]`).val(null).trigger('change');
            //     $(`[name="nopol_noka[]"]`).val(null).trigger('change');
            //     $(`[name="warna[]"]`).val(null).trigger('change');
            //     // $(`[name="status[]"]`).val(null).trigger('change');
            //     $(`[name="status[0]"]`).prop('checked', false);
            //     $(`[name="kondisi[]"]`).val(null).trigger('change');
            //     $(`[name="lainnya[]"]`).val(null).trigger('change');

            //     $('[name="tipe[]').prop('disabled', true);
            //     $('[name="nopol_noka[]').prop('disabled', true);
            //     $('[name="warna[]').prop('disabled', true);
            //     $('[name="status[0]').prop('disabled', true);
            //     $('[name="kondisi[]').prop('disabled', true);
            //     $('[name="lainnya[]').prop('disabled', true);
            //     e.preventDefault();
            //   }
            // }).on("select2:unselecting", function(e) {
            //   $(this).data('unselecting', true);
            // }).on("select2:select", function(e) {
            //   console.log(`[name="merk[]"] select value is = `, this.value);

            //   if (list_merk_unit.findIndex(merk => String(this.value).toLowerCase() === String(merk).toLowerCase()) === -1) {
            //     console.log(`merk at ${rowIndex} with ${this.value} is added`);
            //     list_merk_unit.push(this.value);
            //     $(this).append(new Option(this.value, this.value, true, true));
            //   }
            // });

            // // $(`#kontak_penerima`).select2({
            // //     placeholder: "PILIH SALAH SATU",
            // //     allowClear: true,
            // //     width: "style",
            // //     tags: true,
            // //     closeOnSelect: true,
            // // }).on("change", function(event) {
            // //   $(`#kontak_penerima`).parent().removeClass('has-danger');
            // //   $(`#kontak_penerima`).removeClass('form-control-danger');
            // //   $("label.error.text-danger").remove();
            // // }).on("select2:unselecting", function(e) {
            // //   console.log("select2 unselecting");
            // //   console.log("select unselecting value kontak penerima = ", this.value);
              
            // //   $(this).on("select2:opening", function (evt) {
            // //     evt.preventDefault();
            // //     $(this).off("select2:opening");
            // //   });
            // // }).on("select2:select", function(e) {
            // //   console.log("select2 select");
            // //   console.log("select input value kontak penerima = ", this.value);

            // //   if (list_kontak_penerima.findIndex(kontak_penerima => String(this.value).toLowerCase() === String(kontak_penerima).toLowerCase()) === -1) {
            // //     console.log(this.value, "added to dataset");
            // //     list_kontak_penerima.push(this.value);
            // //     $(this).append(new Option(this.value, this.value, true, true));
            // //   }
            // // });

            // $(`.tipe`).append(`<option></option>`);
            // list_type_unit.forEach(type => {
            //     $(`.tipe`).append(`<option value="${type}">${type}</option>`);
            // });

            // $(`.tipe`).val(null);

            // $(`.tipe`).select2({
            //     placeholder: "PILIH SALAH SATU",
            //     allowClear: true,
            //     width: "style",
            //     tags: true,
            // });

            // $('[name="tipe[]"]').on("change", function(e) {
            //   rowIndex = $('[name="tipe[]"]').index(this);
            //   console.log("rowIndex tipe is = ", rowIndex);

            //   console.log(`[name="merk[]"] change value is = `, $(`[name="merk[]"]`).val());
            //   console.log(`[name="tipe[]"] change value is = `, this.value);
              
            //   $('[name="status[0]').prop('disabled', !$('[name="merk[]"]').val() || !this.value);
            //   // $('[name="nopol_noka[]').prop('disabled', !$('[name="merk[]"]').val() || !this.value);
            //   // $('[name="warna[]').prop('disabled', !$('[name="merk[]"]').val() || !this.value);
            //   // $('[name="kondisi[]').prop('disabled', !$('[name="merk[]"]').val() || !this.value);
            //   // $('[name="lainnya[]').prop('disabled', !$('[name="merk[]"]').val() || !this.value);
            // }).on("select2:opening", function(e) {
            //   if ($(this).data('unselecting')) {
            //     $(this).removeData('unselecting');
            //     $(`[name="nopol_noka[]"]`).val(null).trigger('change');
            //     $(`[name="warna[]"]`).val(null).trigger('change');
            //     // $(`[name="status[]"]`).val(null).trigger('change');
            //     $(`[name="status[0]"]`).prop('checked', false);
            //     $(`[name="kondisi[]"]`).val(null).trigger('change');
            //     $(`[name="lainnya[]"]`).val(null).trigger('change');

            //     $('[name="nopol_noka[]').prop('disabled', true);
            //     $('[name="warna[]').prop('disabled', true);
            //     $('[name="status[0]').prop('disabled', true);
            //     $('[name="kondisi[]').prop('disabled', true);
            //     $('[name="lainnya[]').prop('disabled', true);
            //     e.preventDefault();
            //   }
            // }).on("select2:unselecting", function(e) {
            //   $(this).data('unselecting', true);
            // }).on("select2:select", function(e) {
            //   console.log(`[name="merk[]"] select value is = `, $(`[name="merk[]"]`).val());
            //   console.log(`[name="tipe[]"] select value is = `, this.value);
              
            //   if (list_type_unit.findIndex(type => String(this.value).toLowerCase() === String(type).toLowerCase()) === -1) {
            //     console.log(`tipe at ${rowIndex} with ${this.value} is added`);
            //     list_type_unit.push(this.value);
            //     $(this).append(new Option(this.value, this.value, true, true));
            //   }
            // });

            // // arr_nopol_noka.forEach(nopol_noka => {
            // //     $(`.nopol_noka`).append(`<option value="${nopol_noka}">${nopol_noka}</option>`);
            // // });

            // // list_nopol_noka_unit.forEach(nopol_noka => {
            // //     $(`.nopol_noka`).append(`<option value="${nopol_noka}">${nopol_noka}</option>`);
            // // });

            // // $(`.nopol_noka`).val("");

            // // $(`.nopol_noka`).select2({
            // //     placeholder: "PILIH SALAH SATU",
            // //     allowClear: true,
            // //     width: "style",
            // //     tags: true,
            // // });

            // $(`.warna`).append(`<option></option>`);
            // list_warna_unit.forEach(warna => {
            //     $(`.warna`).append(`<option value="${warna}">${warna}</option>`);
            // });

            // $(`.warna`).val(null);

            // $(`.warna`).select2({
            //     placeholder: "PILIH SALAH SATU",
            //     allowClear: true,
            //     width: "style",
            //     tags: true,
            // });

            // $('[name="warna[]"]').on("change", function(e) {
            //   rowIndex = $('[name="warna[]"]').index(this);
            //   console.log("rowIndex warna is = ", rowIndex);
            //   // $('[name="tipe[]').prop('disabled', !$('.nama_penerima').val() || !this.value);
            //   if (this.value && list_warna_unit.findIndex(value => String($(`[name="warna[]"]`).val()).toLowerCase() === String(value).toLowerCase()) === -1) {
            //     console.log(`warna at ${rowIndex} with ${this.value} is added`);
            //     list_warna_unit.push($(`[name="warna[]"]`).val());
            //     // $(`[name="warna[]"]`).append(`<option value="${$(`[name="warna[]"]`).val()}">${$(`[name="warna[]"]`).val()}</option>`);
            //   }
            //   // $('[name="tipe[]').prop('disabled', !this.value);
            // });

            // $("input:radio[name^='status']").on("change", function() {
            //   console.log("status on change");
            //   console.log("input radio change status value = ", this.value);

            //   // $('[name="nopol_noka[]').prop('disabled', !$('[name="merk[]"]').val() || !$('[name="tipe[]"]').val() || !this.value);
            //   // $('[name="warna[]').prop('disabled', !$('[name="merk[]"]').val() || !$('[name="tipe[]"]').val() || !this.value);
            //   // $('[name="kondisi[]').prop('disabled', !$('[name="merk[]"]').val() || !$('[name="tipe[]"]').val() || !this.value);
            //   // $('[name="lainnya[]').prop('disabled', !$('[name="merk[]"]').val() || !$('[name="tipe[]"]').val() || !this.value);

            //   $('[name="nopol_noka[]').prop('disabled', false);
            //   $('[name="warna[]').prop('disabled', false);
            //   $('[name="kondisi[]').prop('disabled', false);
            //   $('[name="lainnya[]').prop('disabled', false);
            // });

            // $("input:radio[name^='status']").on("click", function() {
            //   console.log("status on click");
            //   // console.log("input radio status value = ", $(this).val());
            //   console.log("input radio click status value = ", this.value);

            //   // if ($(this).val() === "ada") {
            //   //   $("#perincian_asuransi").removeAttr("disabled");
            //   // } else {
            //   //   $("#perincian_asuransi").val("");
            //   //   $("#perincian_asuransi").attr("disabled", "disabled");
            //   // }
              
            //   // $(`[name="nopol_noka[]"]`).val(null).trigger('change');
            //   // $(`[name="warna[]"]`).val(null).trigger('change');
            //   // $(`[name="kondisi[]"]`).val(null).trigger('change');
            //   // $(`[name="lainnya[]"]`).val(null).trigger('change');

            //   // console.log("status [] value after is = ", $("input:radio[name='status[]']").val());

            //   // $('[name="nopol_noka[]').prop('disabled', !$('[name="merk[]"]').val() || !$('[name="tipe[]"]').val() || !this.value);
            //   // $('[name="warna[]').prop('disabled', !$('[name="merk[]"]').val() || !$('[name="tipe[]"]').val() || !this.value);
            // });

            // console.log("status [] value before is = ", $("input:radio[name='status[]']").val());

            $(".spinner-border").hide();

            $("#jo-template #content > #header div:nth-child(1) h6").text(`${city},  ${moment(new Date()).format('DD MMMM YYYY')}`.toUpperCase());

            // console.log($("#jo-form").width());

            $("#jo-template").show();

            // $(`#signature-made-by, 
            //       #signature-approved-by,
            //       #signature-received-by-1,
            //       #signature-received-by-2`).jSignature({
            //   'UndoButton': true,
            //   'decor-color': 'transparent',
            //   'color': '#000',
            //   'width': '100%',
            //   'height': '100',
            //   'lineWidth': 1,
            // });

            $(`#signature-made-by`).jSignature({
              'UndoButton': true,
              'decor-color': 'transparent',
              'color': '#000',
              'width': '100%',
              'height': '100',
              'lineWidth': 1,
            });

            // $("#signature-made-by span").text(moment().format('DD-MMM-YYYY HH:mm:ss'));

            // let showTimeInterval = setInterval(() => { $("#signature-made-by span").show(); }, 250);

            // function showTime() {
            //   let currentDateTime = moment().format('DD-MMM-YYYY HH:mm:ss');
            //   console.log(currentDateTime);
            //   if ($("#signature-made-by").jSignature('getData', 'native').length != 0) {
            //     // console.log("ada");
            //     // $("#signature-made-by").append(`<span>${currentDateTime}</span>`);
            //     $("#signature-made-by span").text(currentDateTime);
            //     // $("#signature-made-by span").show();
            //   } else {
            //     // console.log("nothing");
            //     // $("#signature-made-by span").remove();
            //     $("#signature-made-by span").text("");
            //     // $("#signature-made-by span").hide();
            //   }
            // }

            // function showTime() {
            //   if ($("#signature-made-by").jSignature('getData', 'native').length != 0) {
            //     $("#signature-made-by span").show();
            //   } else {
            //     $("#signature-made-by span").hide();
            //     // clearInterval(showTimeInterval);
            //   }
            // }

            // setInterval(showTime, 1);
            // setInterval(showTime, 100);
            // setInterval(checkTime, 1);

            // setInterval(showTime, 1000);

            // console.log($("#jo-form").width());
            
            
            // $("#jo-form").validate({
            //     ignore: [],
            //     rules: {
            //       nama_pengirim: {
            //         required: true,
            //         minNameLength: true,
            //         minLength: 3,
            //       },
            //       alamat_pengirim: {
            //         required: true,
            //         minContactAddressLength: true,
            //       },
            //       kontak_pengirim: {
            //         required: true,
            //         minContactAddressLength: true,
            //       },
            //       nama_penerima: {
            //         required: true,
            //         minNameLength: true,
            //       },
            //       alamat_penerima: {
            //         required: true,
            //         minContactAddressLength: true,
            //       },
            //       kontak_penerima: {
            //         required: true,
            //         minContactAddressLength: true,
            //       },
            //       'merk[]': {
            //         required: true,
            //         minLength: 5,
            //       },
            //       // tipe[]
            //       // nopol_noka[]
            //       // warna[]
            //       // status[]
            //       // kondisi[]
            //       // lainnya[]
            //       // "category[]": "required"

                  
            //       // topic: {
            //       //   required: "#newsletter:checked",
            //       //   minlength: 2
            //       // },
            //     },
            //     messages: {
            //       nama_pengirim: {
            //         required: "Mohon Isi Field Nama Pengirim",
            //         minNameLength: "Field Nama Pengirim harus terdiri dari minimal 3 karakter",
            //         minLength: "Field Nama Pengirim harus terdiri dari minimal {0} karakter",
            //       },
            //       alamat_pengirim: {
            //         required: "Mohon Isi Field Alamat Pengirim",
            //         minContactAddressLength: "Field Alamat Pengirim harus terdiri dari minimal 5 karakter",
            //       },
            //       kontak_pengirim: {
            //         required: "Mohon Isi Field Kontak Pengirim",
            //         minContactAddressLength: "Field Kontak Pengirim harus terdiri dari minimal 5 karakter",
            //       },
            //       nama_penerima: {
            //         required: "Mohon Isi Field Nama Penerima",
            //         minNameLength: "Field Nama Penerima harus terdiri dari minimal 3 karakter",
            //       },
            //       alamat_penerima: {
            //         required: "Mohon Isi Field Alamat Penerima",
            //         minContactAddressLength: "Field Alamat Penerima harus terdiri dari minimal 5 karakter",
            //       },
            //       kontak_penerima: {
            //         required: "Mohon Isi Field Kontak Penerima",
            //         minContactAddressLength: "Field Kontak Penerima harus terdiri dari minimal 5 karakter",
            //       },
            //       'merk[]': {
            //         required: "Mohon Isi Field Merk",
            //         minLength: "Field Merk harus terdiri dari minimal {0} karakter",
            //       },
            //     },
            //     errorPlacement: function(label, element) {
            //       // if (element.hasClass('web-select2')) {
            //         label.insertAfter(element.next('.select2-container')).addClass('text-danger');
            //         // select2label_nama_pengirim = label;
            //       // } else {
            //       //   label.addClass('mt-2 text-danger');
            //       //   label.insertAfter(element);
            //       // }
            //     },
            //     highlight: function(element, errorClass) {
            //       $(element).parent().addClass('has-danger');
            //       $(element).addClass('form-control-danger');
            //     },
            //     success: function(label, element) {
            //       $(element).parent().removeClass('has-danger');
            //       $(element).removeClass('form-control-danger');
            //       label.remove();
            //     },
            //     // checkForm: function() {
            //     //   this.prepareForm();
            //     //   for (let i = 0, elements = (this.currentElements = this.elements()); elements[i]; i++) {
            //     //     if (this.findByName(elements[i].name).length != undefined && this.findByName(elements[i].name).length > 1) {
            //     //       for (let cnt = 0; cnt < this.findByName(elements[i].name).length; cnt++) {
            //     //         this.check(this.findByName(elements[i].name)[cnt]);
            //     //       }
            //     //     } else {
            //     //       this.check(elements[i]);
            //     //     }
            //     //   }
            //     //   return this.valid();
            //     // },
            //     submitHandler: function(form) {

            //     },
            //   });

            // $("#nama_pengirim").on("change", function(event) {
            //   console.log("np change = ",$("#nama_pengirim").val());
            // $("#nama_pengirim").rules('add', {
            //   required: true,
            //   minlength: 3,
            //   // minlength: function (range, input) {
            //   //       console.log("#nama_pengirim rules value = ", this.value);
            //   //       return false;
            //   //       // return "np change = ",$("#nama_pengirim").val()
            //   //         // return [
            //   //         //     (minChar - parseInt($('#field1').val().length)) +
            //   //         //     ' more characters to go.'];

            //   //     },

            //   messages: {
            //       required: "Mohon Isi Field Nama Pengirim",
            //       minlength: "Field Nama Pengirim harus terdiri dari minimal {0} karakter",
            //       // minlength: function (range, input) {
            //       //   console.log("#nama_pengirim rules value = ", this.value);
            //       //   return false;
            //       //   // return "np change = ",$("#nama_pengirim").val()
            //       //     // return [
            //       //     //     (minChar - parseInt($('#field1').val().length)) +
            //       //     //     ' more characters to go.'];

            //       // },
            //   },
            // });
                // })

            // $.validator.addMethod("arr_min_length", function (value, element) {
            //   let flag = true;
                   
            //   $("[name^=merk]").each(function (i, j) {
            //       $(this).parent('td').find('label.error').remove();

            //       $(this).parent('td').removeClass('has-danger');
            //       $(this).removeClass('form-control-danger');
            //       // label.remove();

            //       console.log("arr_min_length name is = ", this.name);
            //       console.log("arr_min_length value is ", $.trim($(this).val()));

            //       if ($.trim($(this).val()).length < 5) {
            //           flag = false;

            //           $(this).parent().addClass('has-danger');
            //           $(this).addClass('form-control-danger');
            //           // label.insertAfter(this.next('.select2-container')).addClass('text-danger');
                      
            //           $(this).parent('td').append('<label for="merk" id="merk-error" class="error text-danger"></label>');
                      
            //           // $(this).parent('td').append('<label  id="id_ct'+i+'-error" class="error">This field is required.</label>');
                      
            //           // $(`.nama_pengirim`).next(".select2-container").after('<label id="nama_pengirim-error" class="error text-danger" for="nama_pengirim" style="display: block;">Field Alamat Pengirim tidak valid</label>');
                      
            //           // ('<label id="nama_pengirim-error" class="error text-danger" for="nama_pengirim">Field Alamat Pengirim tidak valid</label>').insertAfter($(`.nama_pengirim`).next('.select2-container')).addClass('text-danger');

            //           // <label for="nama_pengirim" id="nama_pengirim-error" class="error text-danger"></label>
            //       }
            //   });
            //   return flag;
              
            //     // return value.length > 4;
            // }, "");
            
            // $.validator.addMethod("minContactAddressLength", function (value, element) {
            //     return value.length > 4;
            // });

            // $.validator.addMethod("minNameLength", function (value, element, params) {
            //     return value.length > 2;
            // });

            // $.validator.addMethod("minLength", function (value, element, requiredValue) {
            //   console.log("value = ", value);
            //   console.log("element = ", element);
            //   console.log("element id = ", element.id);
            //   console.log("requiredValue = ", requiredValue);
              
            //   // if (element.id.split("-").length > 1) {
            //   //   $(`[id^=${element.id.split("-")[0]}-]`).each(function(el, i) {
            //   //     console.log("in each el = ", el);
            //   //     console.log("in each i = ", i);
            //   //     console.log(`element at index value is = ${$(this).val()}`);
            //   //     return $(this).val().length >= requiredValue;
            //   //   });
            //   // } else {
            //   //   return value.length >= requiredValue;
            //   // }
              
            //   return value.length >= requiredValue;
            // });

            // $("#jo-form").validate({
            //   // submitHandler: function(form) {
            //   //   form.submit();
            //   // },
            //   ignore: [],
            //   rules: {
            //     // 'merk[]': {
            //     //   required: true,
            //     // },
            //     'merk[]': {
            //       required: true,
            //       arr_min_length: true,
            //     },
            //   },
            //   messages: {
            //     'merk[]': {
            //       required: "Mohon Isi Field Merk",
            //     },
            //   },
            //   errorPlacement: function(label, element) {
            //   // if (element.hasClass('web-select2')) {
            //     label.insertAfter(element.next('.select2-container')).addClass('text-danger');
            //     // select2label_nama_pengirim = label;
            //   // } else {
            //   //   label.addClass('mt-2 text-danger');
            //   //   label.insertAfter(element);
            //   // }
            //   },
            //   highlight: function(element, errorClass) {
            //     $(element).parent().addClass('has-danger');
            //     $(element).addClass('form-control-danger');
            //   },
            //   success: function(label, element) {
            //     $(element).parent().removeClass('has-danger');
            //     $(element).removeClass('form-control-danger');
            //     label.remove();
            //   },
            //   // checkForm: function() {
            //   //     this.prepareForm();
            //   //     for (let i = 0, elements = (this.currentElements = this.elements()); elements[i]; i++) {
            //   //       if (this.findByName(elements[i].name).length != undefined && this.findByName(elements[i].name).length > 1) {
            //   //         for (let cnt = 0; cnt < this.findByName(elements[i].name).length; cnt++) {
            //   //           this.check(this.findByName(elements[i].name)[cnt]);
            //   //         }
            //   //       } else {
            //   //         this.check(elements[i]);
            //   //       }
            //   //     }
            //   //     return this.valid();
            //   //   },
            // });

              // $("#jo-form").validate({
              //   ignore: [],
              //   rules: {
              //     nama_pengirim: {
              //       required: true,
              //       minNameLength: true,
              //       minLength: 3,
              //     },
              //     alamat_pengirim: {
              //       required: true,
              //       minContactAddressLength: true,
              //     },
              //     kontak_pengirim: {
              //       required: true,
              //       minContactAddressLength: true,
              //     },
              //     nama_penerima: {
              //       required: true,
              //       minNameLength: true,
              //     },
              //     alamat_penerima: {
              //       required: true,
              //       minContactAddressLength: true,
              //     },
              //     kontak_penerima: {
              //       required: true,
              //       minContactAddressLength: true,
              //     },
              //     'merk[]': {
              //       required: true,
              //       minLength: 5,
              //     },
              //     // tipe[]
              //     // nopol_noka[]
              //     // warna[]
              //     // status[]
              //     // kondisi[]
              //     // lainnya[]
              //     // "category[]": "required"

                  
              //     // topic: {
              //     //   required: "#newsletter:checked",
              //     //   minlength: 2
              //     // },
              //   },
              //   messages: {
              //     nama_pengirim: {
              //       required: "Mohon Isi Field Nama Pengirim",
              //       minNameLength: "Field Nama Pengirim harus terdiri dari minimal 3 karakter",
              //       minLength: "Field Nama Pengirim harus terdiri dari minimal {0} karakter",
              //     },
              //     alamat_pengirim: {
              //       required: "Mohon Isi Field Alamat Pengirim",
              //       minContactAddressLength: "Field Alamat Pengirim harus terdiri dari minimal 5 karakter",
              //     },
              //     kontak_pengirim: {
              //       required: "Mohon Isi Field Kontak Pengirim",
              //       minContactAddressLength: "Field Kontak Pengirim harus terdiri dari minimal 5 karakter",
              //     },
              //     nama_penerima: {
              //       required: "Mohon Isi Field Nama Penerima",
              //       minNameLength: "Field Nama Penerima harus terdiri dari minimal 3 karakter",
              //     },
              //     alamat_penerima: {
              //       required: "Mohon Isi Field Alamat Penerima",
              //       minContactAddressLength: "Field Alamat Penerima harus terdiri dari minimal 5 karakter",
              //     },
              //     kontak_penerima: {
              //       required: "Mohon Isi Field Kontak Penerima",
              //       minContactAddressLength: "Field Kontak Penerima harus terdiri dari minimal 5 karakter",
              //     },
              //     'merk[]': {
              //       required: "Mohon Isi Field Merk",
              //       minLength: "Field Merk harus terdiri dari minimal {0} karakter",
              //     },
              //   },
              //   errorPlacement: function(label, element) {
              //     // if (element.hasClass('web-select2')) {
              //       label.insertAfter(element.next('.select2-container')).addClass('text-danger');
              //       // select2label_nama_pengirim = label;
              //     // } else {
              //     //   label.addClass('mt-2 text-danger');
              //     //   label.insertAfter(element);
              //     // }
              //   },
              //   highlight: function(element, errorClass) {
              //     $(element).parent().addClass('has-danger');
              //     $(element).addClass('form-control-danger');
              //   },
              //   success: function(label, element) {
              //     $(element).parent().removeClass('has-danger');
              //     $(element).removeClass('form-control-danger');
              //     label.remove();
              //   },
              //   // checkForm: function() {
              //   //   this.prepareForm();
              //   //   for (let i = 0, elements = (this.currentElements = this.elements()); elements[i]; i++) {
              //   //     if (this.findByName(elements[i].name).length != undefined && this.findByName(elements[i].name).length > 1) {
              //   //       for (let cnt = 0; cnt < this.findByName(elements[i].name).length; cnt++) {
              //   //         this.check(this.findByName(elements[i].name)[cnt]);
              //   //       }
              //   //     } else {
              //   //       this.check(elements[i]);
              //   //     }
              //   //   }
              //   //   return this.valid();
              //   // },
              //   submitHandler: function(form) {

              //   },
              // });
          });


          // initializing inputmask
          // $(":input").inputmask();

          // function setDateValue(date, value) {
          //   // $(date).datepicker('setDate', value);
          //   $(date).datepicker('setDate', new Date(value));
          // }

          // setDateValue(`${formName} #modal-form-${index + 1} .tgl_keluar`, modalData[index][
          //             sp_tgl_keluar.length > 2 && shortMonths.indexOf(sp_tgl_keluar[1]) !== -1 
          //             ? "TGL KELUAR PDC / GD" : "TGL. JO"]);

              

          // console.log(moment());
          // console.log(moment().format());
          // console.log(moment().localeData());

          // console.log(moment.locale());

          // moment.locale('id');
          // console.log(moment.locale());
          // moment.lang('id');
          // console.log(moment.locale());
          // console.log(moment.lang());

          // console.log(moment(1316116057189).fromNow());

          // console.log(moment().locale("id"));
          // console.log(moment().lang("de"));


          // console.log(moment(new Date()).format('hh:mm A'));

          // moment($(`${formName} #modal-form-${index + 1} .tgl_masuk input[name=tgl_masuk]`).val(), "DD/MM/YYYY").format('DD-MMM-YYYY')

          // console.log(moment("28/05/2024", "DD/MM/YYYY").format('DD MMMM YYYY'));

          // console.log(moment(new Date()).format('DD MMMM YYYY'));

          // moment('18/01/2016', 'DD/MM/YYYY').format("DD MMM YYYY") 18 Jan 2016
          

          $("#nominal").inputmask({
            alias: "currency",
            prefix: "Rp",
            groupSeparator: ".",
            radixPoint: ",",
            rightAlign: false,
            allowPlus: false,
            allowMinus: false,
          });

          $("#nominal").on("input", function() {
            console.log("nominal value is = ", this.value);
          });
          // console.log("init length of tagihan_top value is = ",$("#tagihan_top").val().length);

          // let tagihan_top= $("#tagihan_top").val().replace(/,|\Rp/g, '');
          // console.log("tagihan_top = ", tagihan_top);

          // $("#tagihan_top").on("keypress", function() {
          //   console.log("tagihan_top keypressed value is = ", this.value);
          //   // console.log("chg cmpl = ",$("#tagihan_top").inputmask("isComplete"));
          // });
          
          // $("#tagihan_top").on("change", function() {
          //   console.log("tagihan_top changed value is = ", this.value);
          //   // console.log("chg cmpl = ",$("#tagihan_top").inputmask("isComplete"));
          // });


          $("#tagihan_top").on("input", function() {
            // console.log("tagihan_top value is = ", this.value);
            // console.log("length of tagihan_top value is = ",this.value.length);

            // console.log("inp cmpl = ",$("#tagihan_top").inputmask("isComplete"));
            if (this.value.length === 0) {
            // if (Number((this.value).replace(/,|\Rp/g, '')) === 0) {
              $("div#opsi_tagihan_top").hide();
            } else {
              $("div#opsi_tagihan_top").show();
            }
            $("#detail-pembayaran-1 .form-check:nth-child(3).col-6").css({
              "padding-left": Number((this.value).replace(/,|\Rp/g, '')) === 0 ? "1rem" : 0,
            });
          });

          const generateTable = () => {
            $("#data-kendaraan table tbody").empty();
            for (let index = 1; index <= Number($('#qty').val()); index++) {
              $("#data-kendaraan table tbody").append(`
                <tr>
                  <th>${index}</th>
                  <td><select name="merk[${index - 1}]" id="merk-${index}" class="merk form-control"></select></td>
                  <td><select name="tipe[${index - 1}]" id="tipe-${index}" class="tipe form-control" disabled></select></td>
                  <td><input type="text" name="nopol_noka[${index - 1}]" id="nopol_noka-${index}" class="form-control" style="min-width: max-content;" placeholder=". . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . ." disabled /></td>
                  <td><select name="warna[${index - 1}]" id="warna-${index}" class="warna form-control" disabled></select></td>
                  <td>
                    <div class="form-group" style="display: flex; margin: 0;">
                      <div class="form-check form-check-inline" 
                        style="
                          margin: 0;
                          margin-right: 0.75rem;
                        ">
                        <label for="status-profit-${index}" class="form-check-label">
                          <input
                            type="radio"
                            class="form-check-input"
                            name="status[${index - 1}]"
                            id="status-profit-${index}"
                            value="profit"
                            required
                            disabled
                          />
                          Profit
                        </label>
                      </div>
                      <div class="form-check form-check-inline" 
                        style="
                          margin: 0;
                          margin-left: 0.75rem;
                        ">
                        <label for="status-second-${index}" class="form-check-label">
                          <input
                            type="radio"
                            class="form-check-input"
                            name="status[${index - 1}]"
                            id="status-second-${index}"
                            value="second"
                            disabled
                          />
                          Second
                        </label>
                      </div>
                    </div>
                    <span class="text-danger" style="display: none;">
                      <label for="status[${index - 1}]" class="error" style="display: none;">Mohon Pilih Status Unit</label>
                    </span>
                    <!-- <label for="status[${index - 1}]" class="error">Mohon Pilih Status Unit</label> -->
                  </td>
                  <td>
                    <div class="form-group" style="display: flex; margin: 0;">
                      <div class="form-check form-check-inline" style="margin: 0; margin-right: 0.75rem;">
                        <label for="kondisi-ada-${index}" class="form-check-label">
                          <input
                            type="radio"
                            class="form-check-input"
                            name="kondisi[${index - 1}]"
                            id="kondisi-ada-${index}"
                            value="ada"
                            disabled
                          />
                          Ada
                        </label>
                      </div>
                      <div class="form-check form-check-inline" style="margin: 0; margin-left: 0.75rem; display: flex; align-items: center; min-width: max-content;">
                        <label for="kondisi-lainnya-${index}" class="form-check-label">
                          <input
                            type="radio"
                            class="form-check-input"
                            name="kondisi[${index - 1}]"
                            id="kondisi-lainnya-${index}"
                            value="lainnya"
                            disabled
                          />
                          Lainnya
                        </label>
                        <input
                          type="text"
                          class="form-control"
                          name="lainnya[${index - 1}]"
                          id="lainnya-${index}"
                          placeholder=". . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . ."
                          style="margin-left: 0.625rem;"
                          disabled
                        />
                      </div>
                    </div>
                  </td>
                </tr>
              `);
            }

            generateFieldTable();

            // $(".form-check-label").each(function(e) {
            //   console.log(".form-check-label each");
            //   // console.log("child is = ", $(this).children());
            //   // console.log($(this).children().eq(0).attr("type"));
            //   if ($(this).children().eq(0).attr("type") === "radio") {
            //     console.log("is truuee");
            //     console.log($(this).children());
            //     console.log($(this).children().eq(0));
            //     $(this).append('<i class="input-frame"></i>');
            //   }
            // });

            $(".form-check label").append('<i class="input-frame"></i>');

            // checkbox and radios
            // $(".form-check label, .form-radio label").append('<i class="input-frame"></i>');
          };

          const generateFieldTable = () => {
            $(`[name^="merk"]`).append(`<option></option>`);
            list_merk_unit.forEach(merk => {
                $(`[name^="merk"]`).append(`<option value="${merk}">${merk}</option>`);
            });

            $(`[name^="merk"]`).val(null);

            $(`[name^="merk"]`).select2({
                placeholder: "PILIH SALAH SATU",
                allowClear: true,
                width: "style",
                tags: true,
                closeOnSelect: true,
                minimumInputLength: 3,
            });

            $('[name^="merk"]').on("change", function(e) {
              rowIndex = $(this).attr("name").match(/\d+/)[0];
              
              // console.log("rowIndex merk is = ", rowIndex);

              // console.log(`[name="merk[]"] at index ${rowIndex} change value is = `, this.value);
              
              $(`[name="tipe[${rowIndex}]"]`).prop('disabled', !this.value);

              $(this).trigger('blur');
            }).on("blur", function(event) {
              console.log(`on blur this value merk at ${rowIndex} = `, this.value);
            }).on("select2:opening", function(e) {
              if ($(this).data('unselecting')) {
                $(this).removeData('unselecting');
                $(`[name="tipe[${rowIndex}]"]`).val(null).trigger('change');
                $(`[name="nopol_noka[${rowIndex}]"]`).val(null).trigger('change');
                $(`[name="warna[${rowIndex}]"]`).val(null).trigger('change');
                $(`[name="status[${rowIndex}]"]`).prop('checked', false);
                $(`[name="kondisi[${rowIndex}]"]`).prop('checked', false);
                $(`[name="lainnya[${rowIndex}]"]`).val(null).trigger('change');

                $(`[name="tipe[${rowIndex}]"]`).prop('disabled', true);
                $(`[name="nopol_noka[${rowIndex}]"]`).prop('disabled', true);
                $(`[name="warna[${rowIndex}]"]`).prop('disabled', true);
                $(`[name="status[${rowIndex}]"]`).prop('disabled', true);
                $(`[name="kondisi[${rowIndex}]"]`).prop('disabled', true);
                $(`[name="lainnya[${rowIndex}]"]`).prop('disabled', true);
                e.preventDefault();
              }
            }).on("select2:unselecting", function(e) {
              rowIndex = $(this).attr("name").match(/\d+/)[0];
              $(this).data('unselecting', true);
            }).on("select2:select", function(e) {
              rowIndex = $(this).attr("name").match(/\d+/)[0];
              // console.log(`[name="merk[]"] at index ${rowIndex} select value is = `, this.value);

              if (list_merk_unit.findIndex(merk => String(this.value).toLowerCase() === String(merk).toLowerCase()) === -1) {
                console.log(`merk at ${rowIndex} with ${this.value} is added`);
                new_list_merk_unit.push(this.value);
                list_merk_unit.push(this.value);
                $(this).append(new Option(this.value, this.value, true, true));
              }
            });

            $('[name^="merk"]').each(function(e) {
              $(this).rules('add', {
                required: true,
                messages: {
                  required: "Mohon Isi Field Merk Unit",
                },
              });
            });

            $(`[name^="tipe"]`).append(`<option></option>`);
            list_type_unit.forEach(type => {
                $(`[name^="tipe"]`).append(`<option value="${type}">${type}</option>`);
            });

            $(`[name^="tipe"]`).val(null);

            $(`[name^="tipe"]`).select2({
                placeholder: "PILIH SALAH SATU",
                allowClear: true,
                width: "style",
                tags: true,
                closeOnSelect: true,
                minimumInputLength: 3,
            });

            $('[name^="tipe"]').on("change", function(e) {
              rowIndex = $(this).attr("name").match(/\d+/)[0];
              
              // console.log("rowIndex tipe is = ", rowIndex);

              // console.log(`[name="tipe[]"] at index ${rowIndex} change value is = `, this.value);

              // console.log("merk in tipe event = ", $(`[name="merk[${rowIndex}]"]`).val());

              $(`[name="status[${rowIndex}]"]`).prop('disabled', !$(`[name="merk[${rowIndex}]"]`).val() || !this.value);

              $(this).trigger('blur');
            }).on("blur", function(event) {
              console.log(`on blur this value type at ${rowIndex} = `, this.value);
            }).on("select2:opening", function(e) {
              if ($(this).data('unselecting')) {
                $(this).removeData('unselecting');
                $(`[name="nopol_noka[${rowIndex}]"]`).val(null).trigger('change');
                $(`[name="warna[${rowIndex}]"]`).val(null).trigger('change');
                $(`[name="status[${rowIndex}]"]`).prop('checked', false);
                $(`[name="kondisi[${rowIndex}]"]`).prop('checked', false);
                $(`[name="lainnya[${rowIndex}]"]`).val(null).trigger('change');

                $(`[name="nopol_noka[${rowIndex}]"]`).prop('disabled', true);
                $(`[name="warna[${rowIndex}]"]`).prop('disabled', true);
                $(`[name="status[${rowIndex}]"]`).prop('disabled', true);
                $(`[name="kondisi[${rowIndex}]"]`).prop('disabled', true);
                $(`[name="lainnya[${rowIndex}]"]`).prop('disabled', true);
                e.preventDefault();
              }
            }).on("select2:unselecting", function(e) {
              rowIndex = $(this).attr("name").match(/\d+/)[0];
              $(this).data('unselecting', true);
            }).on("select2:select", function(e) {
              rowIndex = $(this).attr("name").match(/\d+/)[0];
              // console.log(`[name="tipe[]"] at index ${rowIndex} select value is = `, this.value);

              if (list_type_unit.findIndex(tipe => String(this.value).toLowerCase() === String(tipe).toLowerCase()) === -1) {
                console.log(`tipe at ${rowIndex} with ${this.value} is added`);
                new_list_type_unit.push(this.value);
                list_type_unit.push(this.value);
                $(this).append(new Option(this.value, this.value, true, true));
              }
            });

            $('[name^="tipe"]').each(function(e) {
              $(this).rules('add', {
                required: true,
                messages: {
                  required: "Mohon Isi Field Type Unit",
                },
              });
            });

            $(`[name^="warna"]`).append(`<option></option>`);
            list_warna_unit.forEach(warna => {
                $(`[name^="warna"]`).append(`<option value="${warna}">${warna}</option>`);
            });

            $(`[name^="warna"]`).val(null);

            $(`[name^="warna"]`).select2({
                placeholder: "PILIH SALAH SATU",
                allowClear: true,
                width: "style",
                tags: true,
            });

            $('[name^="warna"]').on("change", function(e) {
              rowIndex = $(this).attr("name").match(/\d+/)[0];
              
              // console.log("rowIndex tipe is = ", rowIndex);

              // console.log(`[name="tipe[]"] at index ${rowIndex} change value is = `, this.value);

              // console.log("merk in tipe event = ", $(`[name="merk[${rowIndex}]"]`).val());

              // $(`[name="status[${rowIndex}]"]`).prop('disabled', !$(`[name="merk[${rowIndex}]"]`).val() || !this.value);

              $(this).trigger('blur');
            }).on("blur", function(event) {
              console.log(`on blur this value warna at ${rowIndex} = `, this.value);
            }).on("select2:opening", function(e) {
              if ($(this).data('unselecting')) {
                $(this).removeData('unselecting');
                // $(`[name="nopol_noka[${rowIndex}]"]`).val(null).trigger('change');
                // $(`[name="warna[${rowIndex}]"]`).val(null).trigger('change');
                // $(`[name="status[${rowIndex}]"]`).prop('checked', false);
                // $(`[name="kondisi[${rowIndex}]"]`).prop('checked', false);
                // $(`[name="lainnya[${rowIndex}]"]`).val(null).trigger('change');

                // $(`[name="nopol_noka[${rowIndex}]"]`).prop('disabled', true);
                // $(`[name="warna[${rowIndex}]"]`).prop('disabled', true);
                // $(`[name="status[${rowIndex}]"]`).prop('disabled', true);
                // $(`[name="kondisi[${rowIndex}]"]`).prop('disabled', true);
                // $(`[name="lainnya[${rowIndex}]"]`).prop('disabled', true);
                e.preventDefault();
              }
            }).on("select2:unselecting", function(e) {
              rowIndex = $(this).attr("name").match(/\d+/)[0];
              $(this).data('unselecting', true);
            }).on("select2:select", function(e) {
              rowIndex = $(this).attr("name").match(/\d+/)[0];
              // console.log(`[name="tipe[]"] at index ${rowIndex} select value is = `, this.value);

              if (list_warna_unit.findIndex(warna => String(this.value).toLowerCase() === String(warna).toLowerCase()) === -1) {
                console.log(`warna at ${rowIndex} with ${this.value} is added`);
                new_list_warna_unit.push(this.value);
                list_warna_unit.push(this.value);
                $(this).append(new Option(this.value, this.value, true, true));
              }
            });

            // $("[name^='status']").on("change", function(e) {
            //   console.log("status on change");
            //   console.log("input radio change status value = ", this.value);
            // });

            $("[name^='status']").on("click", function(e) {
              // console.log("status on click");
              // console.log("input radio click status value = ", this.value);

              rowIndex = $(this).attr("name").match(/\d+/)[0];

              $(`[name="nopol_noka[${rowIndex}]"]`).prop('disabled', false);
              $(`[name="warna[${rowIndex}]"]`).prop('disabled', false);
              $(`[name="kondisi[${rowIndex}]"]`).prop('disabled', false);
              // $(`[name="lainnya[${rowIndex}]"]`).prop('disabled', false);
            });

            $('[name^="status"]').each(function(e) {
              console.log("each status = ", $(this));
              $(this).rules('add', {
                required: true,
                messages: {
                  required: "Mohon Pilih Status Unit",
                },
              });
            });

            // topic: {
              //     //   required: "#newsletter:checked",
              //     //   minlength: 2
              //     // },

            // $(".form-check-label").on("click", function(e) {
            //   console.log("child is = ", $(this).children());
            //   console.log($(this).children().eq(0).attr("type"));
            //   // if ($(this).children().eq(0).attr("type") === "radio") {

            //   // }
            // });

            $("[name^='kondisi']").on("click", function(e) {
              // console.log("kondisi on click");
              // console.log("input radio click kondisi value = ", this.value);

              rowIndex = $(this).attr("name").match(/\d+/)[0];

              if (this.value !== "lainnya") {
                $(`[name="lainnya[${rowIndex}]"]`).val("");
              }
              $(`[name="lainnya[${rowIndex}]"]`).prop('disabled', !(this.value === "lainnya"));
            });
          };

          $(".minus").on("click", function() {
            $('#qty').val(Number($('#qty').val()) - 1);
            if (Number($('#qty').val()) === 1) {
              $(".minus").prop('disabled', true);
            }
            generateTable();
          });

          $(".plus").on("click", function() {
            $('#qty').val(Number($('#qty').val()) + 1);
            if (Number($('#qty').val()) > 1) {
              $(".minus").prop('disabled', false);
            }
            generateTable();
          });

          $("#qty, #tagihan_top").keypress( function (event) {
            let charCode = (event.which) ? event.which : event.keyCode;
            if (charCode > 31 && (charCode < 48 || charCode > 57)) {
                return false;
            }
          });

          $('#qty').on("input", function() {
            if (Number(this.value) === 0 || this.value === undefined || this.value === null || this.value.length === 0) {
              // console.log("input qty is not validd");
              this.value = 1;
            }
            this.style.width = 1.2 * this.value.length + "ch";
            $(".minus").prop('disabled', Number(this.value) === 1);
            generateTable();
          });

          // $('.merk').change(function() {
          //       alert($(this).index());
          //   });

          // $('[name="warna[]"]').change(function() {
          //     rowIndex = $('[name="warna[]"]').index(this);
          //     alert(rowIndex);
          //   });

          // $('.merk').on("change", function() {
          //   console.log("merk by class");
          //   console.log($('[name="merk[]"]').index(this));
          //   console.log($(this).val());
          // });

          // $('select[name^="merk[]"]').on("change", function() {
          //   console.log("merk by name");
          //   console.log($('[name="merk[]"]').index(this));
          //   console.log($(this).val());
          // });

          $("input:radio[name='tagihan']").on("click", function() {
            console.log("tagihan value = ", $(this).val());
            $("#tagihan_top").removeAttr("disabled");
          });

          $("input:radio[name='asuransi']").on("click", function() {
            console.log("asuransi value = ", $(this).val());
            if ($(this).val() === "ada") {
              $("#perincian_asuransi").removeAttr("disabled");
            } else {
              $("#perincian_asuransi").val("");
              $("#perincian_asuransi").attr("disabled", "disabled");
            }
          });

          $("input:radio[name='biaya_koord']").on("click", function() {
            console.log("biaya_koord value = ", $(this).val());
            if ($(this).val() === "ada") {
              $("#keterangan_biaya_koord").removeAttr("disabled");
            } else {
              $("#keterangan_biaya_koord").val("");
              $("#keterangan_biaya_koord").attr("disabled", "disabled");
            }
          });

          $("input:radio[name='penawaran_kontrak']").on("click", function() {
            console.log("penawaran_kontrak value = ", $(this).val());
            if ($(this).val() === "ada") {
              $(this).parents("div.form-group.form-row").css("height", "unset");
              $('input:radio[name="opsi_penawaran_kontrak"][value="penawaran"]').prop('checked', true);
              $("#no_opsi_penawaran_kontrak").val("");
              $("div#opsi_penawaran_kontrak").show();
              $("div#opsi_penawaran_kontrak").css({
                display: "grid",
                gap: "0.5rem",
                margin: 0,
                marginLeft: "1rem",
                marginTop: "0.5rem",
              });
            } else {
              $(this).parents("div.form-group.form-row").css("height", "2.1875rem");
              $("div#opsi_penawaran_kontrak").hide();
              $("div#opsi_penawaran_kontrak").css({
                display: "none",
              });
            }
          });


          function downloadInnerHtml(event, filename, elId) {
            // debugger;
            let elHtml = document.getElementById(elId).innerHTML;
            let link = document.createElement('a');
            link.setAttribute('download', filename);
            
            link.setAttribute('href', 'data:' + 'text/doc' + ';charset=utf-8,' + encodeURIComponent(elHtml));
            link.click(); 
          }

          $(".dropdown-item").on("click", (event) => {
            // alert(event.target.id)
            let {id} = event.target
            // if (id === "docx") {
              let elHtml = document.getElementById("filter-result-table").innerHTML;
              let link = document.createElement('a');
              link.setAttribute('download', `Report.${id}`);
              
              link.setAttribute('href', 'data:' + 'text/docx' + ';charset=utf-8,' + encodeURIComponent(elHtml));
              link.click(); 
            // }
          });

          const form = document.forms.namedItem("jo-form");

          console.log("form = ", form);
          // console.log(moment("28/05/2024", "DD/MM/YYYY").format('DD-MMM-YYYY')); // 28-May-2024

          form.addEventListener("submit", async (event) => {
            event.preventDefault();

            const formData = new FormData(form);

            console.log("formData is = ", formData);

            

            // console.log("nama pengirim value is = ", $(`#nama_pengirim`).val());
            // console.log("alamat pengirim value is = ", $(`#alamat_pengirim`).val());
            console.log("hr_tgl_ambil value is = ", $(`.hr_tgl_ambil`).datepicker("getDate"));
            console.log("jumlah value is = ", $(`#qty`).val());
            // let dp_masuk = Date.parse($(`${formName} #modal-form-${index + 1} .tgl_masuk`).datepicker("getDate"))
            // console.log("status value is = ", $("input[name='status']:checked").val());

            let nama_pengirim = $(`#nama_pengirim`).val();
            let alamat_pengirim = $(`#alamat_pengirim`).val();
            let kontak_pengirim = $(`#kontak_pengirim`).val();
            let nama_penerima = $(`#nama_penerima`).val();
            let alamat_penerima = $(`#alamat_penerima`).val();
            let kontak_penerima = $(`#kontak_penerima`).val();
            let hr_tgl_ambil = $(`.hr_tgl_ambil`).datepicker("getDate");
            let jumlah = $(`#qty`).val();
            let nominal = $("#nominal").val().replace(/,|\Rp/g, '');
            // let tagihan_top = $("#tagihan_top").val().replace(/,|\Rp/g, '');
            let tagihan_top = $("#tagihan_top").val();

            console.log("nominal = ", nominal);
            console.log("tagihan_top = ", tagihan_top);

            let isValid = true;

            // console.log("nama_pengirim = ", nama_pengirim);

            // $("#nama_penerima").trigger('blur');

            console.log("is jo form valid = ", $("#jo-form").valid());

            // if (nama_pengirim !== undefined && nama_pengirim !== null && nama_pengirim.length !== 0) {
            // if (nama_pengirim) {
            //   console.log("np is right");
            //   if (list_nama_pengirim.findIndex(value => String(nama_pengirim).toLowerCase() === String(value).toLowerCase()) === -1) {
            //     // nama_pengirim_opt += `<option value="${nama_pengirim}">${nama_pengirim}</option>`;
            //     // console.log("new nama pengirim = ", nama_pengirim);
            //     list_nama_pengirim.push(nama_pengirim);
            //     // console.log("list_nama_pengirim in job order = ", JSON.stringify(list_nama_pengirim, null, '\t'));
            //   }
              
            //   // $(`.nama_pengirim`).parent().removeClass('has-danger');
            //   // $(`#nama_pengirim`).next(".select2-container").removeClass('form-control-danger');
            //   // $("#nama_pengirim-error").text("");
            // } else {
            //   console.log("np is wrong");
            //   isValid = false;
            //   // $(`.nama_pengirim`).parent().addClass('has-danger');
            //   // $(`#nama_pengirim`).next(".select2-container").addClass('form-control-danger');
            //   // $("#nama_pengirim-error").text("Field Nama Pengirim tidak valid");

            //   // $(`.nama_pengirim`).next(".select2-container").after('<label id="nama_pengirim-error" class="error text-danger" for="nama_pengirim" style="display: block;">Field Alamat Pengirim tidak valid</label>');
            //   // ('<label id="nama_pengirim-error" class="error text-danger" for="nama_pengirim">Field Alamat Pengirim tidak valid</label>').insertAfter($(`.nama_pengirim`).next('.select2-container')).addClass('text-danger');
            // }

            // errorPlacement: function(label, element) {
            //       // if (element.hasClass('web-select2')) {
            //         label.insertAfter(element.next('.select2-container')).addClass('text-danger');
            //         // select2label_nama_pengirim = label;
            //       // } else {
            //       //   label.addClass('mt-2 text-danger');
            //       //   label.insertAfter(element);
            //       // }
            //     },
            //     highlight: function(element, errorClass) {
            //       $(element).parent().addClass('has-danger');
            //       $(element).addClass('form-control-danger');
            //     },
            //     success: function(label, element) {
            //       $(element).parent().removeClass('has-danger');
            //       $(element).removeClass('form-control-danger');
            //       label.remove();
            //     },

            // console.log("nama_pengirim is valid = ", $(`#nama_pengirim`).valid());

            // console.log("kontak_pengirim is valid = ", $(`#kontak_pengirim`).valid());

            // if (nama_pengirim !== undefined && nama_pengirim !== null && nama_pengirim.length !== 0 && list_nama_pengirim.findIndex(value => String(nama_pengirim).toLowerCase() === String(value).toLowerCase()) === -1) {
              
            // } else {
              
            // }

            // if (alamat_pengirim !== undefined && alamat_pengirim !== null && alamat_pengirim.length !== 0 && list_alamat_pengirim.findIndex(value => String(alamat_pengirim).toLowerCase() === String(value).toLowerCase()) === -1) {
            //   list_alamat_pengirim.push(alamat_pengirim);
            // } else {
            //   isValid = false;
            //   alert("Field Alamat Pengirim tidak valid atau sudah tersedia")
            // }
            
            // if (alamat_pengirim) {
            //   if (list_alamat_pengirim.findIndex(value => String(alamat_pengirim).toLowerCase() === String(value).toLowerCase()) === -1) {
            //     list_alamat_pengirim.push(alamat_pengirim);
            //   }
            // }

            // if (kontak_pengirim) {
            //   if (list_kontak_pengirim.findIndex(value => String(kontak_pengirim).toLowerCase() === String(value).toLowerCase()) === -1) {
            //     list_kontak_pengirim.push(kontak_pengirim);
            //   }
            // }

            // if (nama_penerima) {
            //   if (list_nama_penerima.findIndex(value => String(nama_penerima).toLowerCase() === String(value).toLowerCase()) === -1) {
            //     list_nama_penerima.push(nama_penerima);
            //   }
            // }

            // if (alamat_penerima) {
            //   if (list_alamat_penerima.findIndex(value => String(alamat_penerima).toLowerCase() === String(value).toLowerCase()) === -1) {
            //     list_alamat_penerima.push(alamat_penerima);
            //   }
            // }

            // if (kontak_penerima) {
            //   if (list_kontak_penerima.findIndex(value => String(kontak_penerima).toLowerCase() === String(value).toLowerCase()) === -1) {
            //     list_kontak_penerima.push(kontak_penerima);
            //   }
            // }

            // console.log("list_nama_pengirim in job order after submit = ", JSON.stringify(list_nama_pengirim, null, '\t'));
            // console.log("list_alamat_pengirim in job order after submit = ", JSON.stringify(list_alamat_pengirim, null, '\t'));
            // console.log("list_kontak_pengirim in job order after submit = ", JSON.stringify(list_kontak_pengirim, null, '\t'));
            // console.log("list_nama_penerima in job order after submit = ", JSON.stringify(list_nama_penerima, null, '\t'));
            // console.log("list_alamat_penerima in job order after submit = ", JSON.stringify(list_alamat_penerima, null, '\t'));
            // console.log("list_kontak_penerima in job order after submit = ", JSON.stringify(list_kontak_penerima, null, '\t'));

            // if (!hr_tgl_ambil) {
            //   isValid = false;
            //   alert("Field Hari Tanggal Pengambilan tidak valid")
            // }

            // for (let index = 1; index <= jumlah; index++) {
            //   if ($(`#merk-${index}`).val()) {
            //     if (list_merk_unit.findIndex(value => String($(`#merk-${index}`).val()).toLowerCase() === String(value).toLowerCase()) === -1) {
            //       list_merk_unit.push($(`#merk-${index}`).val());
            //     }
            //   }

            //   if ($(`#tipe-${index}`).val()) {
            //     if (list_type_unit.findIndex(value => String($(`#tipe-${index}`).val()).toLowerCase() === String(value).toLowerCase()) === -1) {
            //       list_type_unit.push($(`#tipe-${index}`).val());
            //     }
            //   }

            //   if (!$(`#nopol_noka-${index}`).val()) {
            //     isValid = false;
            //     // alert(`Field Nopol Noka Unit ${index} tidak valid`);
            //   }

            //   if ($(`#warna-${index}`).val()) {
            //     if (list_warna_unit.findIndex(value => String($(`#warna-${index}`).val()).toLowerCase() === String(value).toLowerCase()) === -1) {
            //       list_warna_unit.push($(`#warna-${index}`).val());
            //     }
            //   }
            // }

            // if (transfer_by || tagihan) {
              
            // } else {
            //   isValid = false;
            //   // alert('Mohon Pilih Metode Pembayaran');
            // }

            // if (tagihan_top) {
            //   if (opsi_tagihan_top) {

            //   } else {
            //     isValid = false;
            //     // alert('Mohon Pilih Opsi Tagihan TOP');
            //   }
            // }

            // new_list_nama_pengirim
            // new_list_alamat_pengirim
            // new_list_kontak_pengirim
            // new_list_nama_penerima
            // new_list_alamat_penerima
            // new_list_kontak_penerima
            // new_list_merk_unit
            // new_list_type_unit
            // new_list_warna_unit

            
            
            if ($("#signature-made-by").jSignature('getData', 'native').length == 0) {
              isValid = false;
              // alert('Mohon Tanda Tangan Pembuat JO');
            }

            console.log("isValid = ", isValid);

            if ($("#jo-form").valid() && isValid) {
              console.log("isValid is trueee");

              console.log("new_list_nama_pengirim in job order = ", JSON.stringify(new_list_nama_pengirim, null, '\t'));
              console.log("new_list_alamat_pengirim in job order = ", JSON.stringify(new_list_alamat_pengirim, null, '\t'));
              console.log("new_list_kontak_pengirim in job order = ", JSON.stringify(new_list_kontak_pengirim, null, '\t'));
              console.log("new_list_nama_penerima in job order = ", JSON.stringify(new_list_nama_penerima, null, '\t'));
              console.log("new_list_alamat_penerima in job order = ", JSON.stringify(new_list_alamat_penerima, null, '\t'));
              console.log("new_list_kontak_penerima in job order = ", JSON.stringify(new_list_kontak_penerima, null, '\t'));
              console.log("new_list_merk_unit in job order = ", JSON.stringify(new_list_merk_unit, null, '\t'));
              console.log("new_list_type_unit in job order = ", JSON.stringify(new_list_type_unit, null, '\t'));
              console.log("new_list_warna_unit in job order = ", JSON.stringify(new_list_warna_unit, null, '\t'));

              // List key/value pairs
              for (let [name, value] of formData) {
                console.log("List key/value pairs in formData");
                console.log(`${name} = ${value}`);
              }

              const Toast = Swal.mixin({
                toast: true,
                position: 'bottom-start',
                showConfirmButton: false,
                timer: 5000,
                timerProgressBar: true,
              });
            
              try {
                // const response = await fetch("/marketing/input-job-order", {
                const response = await fetch("/input-job-order", {
                  method: "POST",
                  body: formData,
                });
                console.log("response of createData = ", response);

                if (response.status == 200 || response.ok) {
                  console.log('Promise resolved and HTTP status is successful');
                  const result = await response.json();
                  console.log("result from response of createData = ", result);
                  Toast.fire({
                    icon: 'success',
                    html: `<label>Submit Form Success</label>`,
                  });
                } else {
                  console.log('error: ', response.status, response.statusText);
                  console.error('Promise resolved but HTTP status failed');
                  // const Toast = Swal.mixin({
                  //   toast: true,
                  //   position: 'bottom-start',
                  //   showConfirmButton: false,
                  //   timer: 5000,
                  //   timerProgressBar: true,
                  // });
                    
                  Toast.fire({
                    icon: 'error',
                    html: `<label>There are some errors when submitting the form</label>`,
                  });
                  /* Handle the error returned by the HTTP request */
                  return {error: {status: response.status, statusText: response.statusText}};
                }
                
                // const now = performance.now();
                // for (let l = 0; l < 1000000; l += 1)
                //   getRow();
                // console.log(performance.now() - now);
              } catch (err) {
                // console.error('Promise rejected');
                // console.log("err = ", err);
                console.error(err)
                
                // const Toast = Swal.mixin({
                //   toast: true,
                //   position: 'bottom-start',
                //   showConfirmButton: false,
                //   timer: 5000,
                //   timerProgressBar: true,
                // });
                  
                Toast.fire({
                  icon: 'error',
                  html: `<label>Submit Form Failed</label>`,
                });
              }
            } else {
              console.log("there is invalid input in Input Form Job Order");
            }

            // if(typeof($("#signature-made-by").jSignature('getData', 'native')) != 'undefined') {
            //   alert('Please Enter Signature..');
            // }

    //           if ($(`.nama_pengirim`).val() !== undefined && $(`.nama_pengirim`).val() !== null && $(`.nama_pengirim`).val().length !== 0 &&
    //               $(`.alamat_pengirim`).val() !== undefined && $(`.alamat_pengirim`).val() !== null && $(`.alamat_pengirim`).val().length !== 0 &&
    //               $(`.kontak_pengirim`).val() !== undefined && $(`.kontak_pengirim`).val() !== null && $(`.kontak_pengirim`).val().length !== 0 &&
    //               $(`.nama_penerima`).val() !== undefined && $(`.nama_penerima`).val() !== null && $(`.nama_penerima`).val().length !== 0 &&
    //               $(`.alamat_penerima`).val() !== undefined && $(`.alamat_penerima`).val() !== null && $(`.alamat_penerima`).val().length !== 0 &&
    //               $(`.kontak_penerima`).val() !== undefined && $(`.kontak_penerima`).val() !== null && $(`.kontak_penerima`).val().length !== 0 &&
    //               $(`.hr_tgl_ambil`).datepicker("getDate") !== undefined && $(`.hr_tgl_ambil`).datepicker("getDate") !== null && $(`.hr_tgl_ambil`).datepicker("getDate").length !== 0 &&
    //               $(`.merk`).val() !== undefined && $(`.merk`).val() !== null && $(`.merk`).val().length !== 0 &&
    //               $(`.tipe`).val() !== undefined && $(`.tipe`).val() !== null && $(`.tipe`).val().length !== 0 &&
    //               $(`.nopol_noka`).val() !== undefined && $(`.nopol_noka`).val() !== null && $(`.nopol_noka`).val().length !== 0 &&
    //               $(`.warna`).val() !== undefined && $(`.warna`).val() !== null && $(`.warna`).val().length !== 0 &&
    //               $("input[name='status']:checked").length !== 0 &&
    //               ($("input[name='tagihan']:checked").length !== 0 || ($("input[name='tunai']:checked").length !== 0 && $("#nominal").val() !== undefined && $("#nominal").val() !== null && $("#nominal").val().length !== 0) || ($("input[name='transfer_by']").val() !== undefined && $("input[name='transfer_by']").val() !== null && $("input[name='transfer_by']").val().length !== 0)) 
    //           ) {
    //             // if (nama_pengirim !== undefined && nama_pengirim !== null && nama_pengirim.length !== 0 && arr_nama_pengirim.findIndex(value => String(nama_pengirim).toLowerCase() === String(value).toLowerCase()) === -1) {
    //               if (list_nama_pengirim.findIndex(value => String($(`.nama_pengirim`).val()).toLowerCase() === String(value).toLowerCase()) === -1) {
    //                 list_nama_pengirim.push($(`.nama_pengirim`).val());
    //               }
    //           } else {
    //             console.log("form input is not valid");
    //           }
            // let valid_form = true;
            // if ($(`.nama_pengirim`).val() !== undefined && $(`.nama_pengirim`).val() !== null && $(`.nama_pengirim`).val().length !== 0) {

            // }
          });

        });
      
    </script>
  </body>
</html>
